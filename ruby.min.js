// Generated by CoffeeScript 1.6.3
/*
RubyJS Alpha 0.8.0-beta1
Copyright (c) 2012 Sebastian Burkhard
All rights reserved.
http://www.rubyjs.org/LICENSE.txt
*/(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt={}.hasOwnProperty,Ht=function(e,t){function r(){this.constructor=e}for(var n in t)Pt.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},Bt=[].slice;$=typeof global!="undefined"&&global!==null?global:window,$.RubyJS=function(e,t,n){return RubyJS.Base.prototype.box(e,t,n)},RubyJS.VERSION="0.8.0-beta1",$.R!=null&&(V=$.R),RubyJS.noConflict=function(){return $.R=V,RubyJS},$.R=RubyJS,RubyJS.extend=function(e,t){var n,r;for(r in t)n=t[r],e[r]=n;return e},RubyJS.include=function(e,t){var n,r,i;t==null&&(t=!1),i=e.prototype;for(r in i)n=i[r],t?this.prototype[r]=n:this.prototype[r]||(this.prototype[r]=n);return e},typeof exports!="undefined"&&(exports.R=R,exports.RubyJS=RubyJS),R.Support={argify:function(){return arguments}},S=function(e){return function(t,n,r,i,s,o){var u,a;u=arguments.length;while(u--)if(arguments[u]!==void 0)break;a=this.valueOf();switch(u+1){case 0:return e(a);case 1:return e(a,t);case 2:return e(a,t,n);case 3:return e(a,t,n,r);case 4:return e(a,t,n,r,i);case 5:return e(a,t,n,r,i,s);case 6:return e(a,t,n,r,i,s,o);default:return e.apply(null,[a].concat(F.call(arguments,0)))}}},Z=function(e,t){if(e.length!==t)throw R.ArgumentError["new"]()},nt=function(e){var t,n;t=e.length;while(--t>=0)if(((n=e[t])!=null?n.call:void 0)!=null)return e.pop();return null},R.Support.callFunctionWithThis=S,R.Support.ensure_args_length=Z,R.Support.extract_block=nt,_=Array,P=Number,H=Object,j=RegExp,z=String,f=Object.prototype,b=String.prototype,e=Array.prototype,W=f.toString,U=b.slice,q=b.match,D=e.join,I=e.sort,F=e.slice,X=e.unshift,B=e.push,n=function(){function e(){}return e.create=function(e,t){return(e!=null?e.call:void 0)!=null?e.length!==1?new i(e,t):new s(e,t):new r(e,t)},e.splat_arguments=function(e){return e.length>1?function(t){return typeof t=="object"&&st(t)?e.apply(null,t):e(t)}:e},e}(),r=function(){function e(e,t){this.block=e,this.thisArg=t}return e.prototype.invoke=function(e){return c.single_block_args(e,this.block)},e}(),i=function(){function e(e,t){this.block=e,this.thisArg=t}return e.prototype.args=function(e){return e.length>1?F.call(e):e[0]},e.prototype.invoke=function(e){var t;return e.length>1?this.block.apply(this.thisArg,e):(t=e[0],typeof t=="object"&&st(t)?this.block.apply(this.thisArg,t):this.block.call(this.thisArg,t))},e.prototype.invokeSplat=function(){return this.block.apply(this.thisArg,arguments)},e}(),s=function(){function e(e,t){this.block=e,this.thisArg=t}return e.prototype.args=function(e){return e[0]},e.prototype.invoke=function(e){return this.block.call(this.thisArg,e[0])},e.prototype.invokeSplat=function(){return this.block.apply(this.thisArg,arguments)},e}(),R.Block=n,R.blockify=K=n.create,RubyJS.Breaker=function(){function e(e){this.return_value=e!=null?e:null}return e.prototype["break"]=function(e){throw this.return_value=e,this},e.prototype.handle_break=function(e){if(this===e)return e.return_value;throw e},e}(),RubyJS.Kernel=function(){function e(){}return e.prototype.rubyjs=function(){return!0},e.prototype.box=function(e,t,n){var r,i;if(e==null)return e;if(typeof e=="object"){if(e.rubyjs!=null)return e;i=e.valueOf(),typeof i!="object"?e=i:R.Array.isNativeArray(e)?r="[object Array]":r=W.call(e)}return typeof e=="number"?e=RubyJS.Numeric.typecast(e):typeof e=="string"?e=new R.String(e):r==="[object Array]"?e=new R.Array(e,t===!0):r==="[object RegExp]"&&(e=R.Regexp.try_convert(e)),typeof t=="function"&&(n=t,t=!1),typeof n=="function"&&(e=n.call(e),e===null||e===void 0?e=null:e.to_native!=null&&(e=e.to_native(!0))),e},e.prototype.w=function(e){return(new R.String(e)).split(/\s+/)},e.prototype.r=function(e,t,n){return n===!0?R.Range["new"](e,t,!0):R.Range["new"](e,t)},e.prototype.f=function(e){return new R.Float(e)},e.prototype.rng=e.prototype.r,e.prototype.catch_break=function(e,t){var n,r;t==null&&(t=this),n=new R.Breaker;try{return e.call(t,n)}catch(i){return r=i,n.handle_break(r)}},e.prototype.$Array=function(e,t){var n;return t==null&&(t=!1),t===!0?R.Array["new"](function(){var t,r,i;i=[];for(t=0,r=e.length;t<r;t++)n=e[t],i.push(this.box(n));return i}.call(this)):R.Array["new"](e)},e.prototype.arr_r=function(e){var t;return new l(function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(R(t));return i}())},e.prototype.$Array_r=function(e){return this.$Array(e,!0)},e.prototype.$Float=function(e){var t;e=this.box(e);if(e===null)throw R.TypeError["new"]();if(e.to_f==null)throw R.TypeError["new"]();if(e.is_float!=null)return e;if(e.is_string!=null){t=e.strip();if(t.valid_float())return new R.Float(+t.to_native().replace(/_/g,""));throw R.ArgumentError["new"]()}return e.rubyjs!=null?new R.Float(e.to_native()):new R.Float(e)},e.prototype.$Integer=function(e){var t;e=R(e);if(e==null)throw R.TypeError["new"]();if(e.is_integer!=null)return e;if(e.is_string!=null){t=e.strip();if(t.valid_float())return new R.Fixnum(Math.floor(+t.to_native().replace(/_/g,"")));throw R.ArgumentError["new"]()}return e.rubyjs!=null?new R.Fixnum(Math.floor(e.to_native())):new R.Fixnum(Math.floor(e))},e.prototype.$Integer=e.prototype.$Integer,e.prototype.$String=function(e){return R.String.try_convert(e)||function(){throw R.TypeError["new"]()}()},e.prototype.$Range=function(e,t,n){return R.Range["new"](e,t,n)},e.prototype.puts=function(e){return console.log(e.valueOf())},e.prototype.rand=function(e){var t;return t=R(Math.random()),e?t.multiply(e).to_i():t},e}(),et=function(e,t){var n;return n=[],t.push(function(){return arguments.length>1?n.push(F.call(arguments,0)):n.push(arguments[0])}),e.apply(null,t),n},ft=RubyJS.Kernel.prototype.rand,RubyJS.Base=function(){function e(){}return RubyJS.include.call(e,R.Kernel),e.prototype["$~"]=null,e.prototype["$,"]=null,e.prototype["$;"]="\n",e.prototype["$/"]="\n",e.prototype.inspect=function(e){return e===null||e==="undefined"?"null":e.inspect!=null?e.inspect():R.Array.isNativeArray(e)?"["+e+"]":e},e.prototype.pollute_global_with_kernel=function(e){var t,n,r,i;e==null&&(e="_"),t=["w","fn","proc","puts","truthy","falsey","inspect"];for(r=0,i=t.length;r<i;r++)n=t[r],$[e+n]=R[n];return null},e.prototype.pollute_global_with_shortcuts=function(e){var t,n,r;e==null&&(e="_"),n={_arr:"a",_num:"n",_str:"s",_itr:"i",_hsh:"h",_time:"t"};for(t in n)r=n[t],R[e+r]=R[t],$[e+r]=R[t];return null},e.prototype.god_mode=function(e,t){var n,r,i,s,o,u,a,f,l,c;e==null&&(e="rb_"),t==null&&(t=!1),o=[[Array.prototype,pt],[Number.prototype,Tt],[String.prototype,_t],[Date.prototype,Dt]],c=[];for(a=0,f=o.length;a<f;a++)l=o[a],u=l[0],r=l[1],c.push(function(){var o;o=[];for(i in r)n=r[i],s=e+i,typeof n=="function"?t||u[s]===void 0?o.push(function(e,t){return u[e]=S(t)}(s,n)):o.push(console.log(""+u+"."+s+" exists. skipped.")):o.push(void 0);return o}());return c},e.prototype.i_am_feeling_evil=function(){return this.god_mode("",!0),"harr harr"},e.prototype.proc=function(e){var t;return arguments.length===1?function(t){var n;return n=t[e],typeof n=="function"?n.call(t):n===void 0?R(t)[e]().valueOf():n}:(t=F.call(arguments,1),function(n){var r;return r=n[e],typeof r=="function"?n[e].apply(n,t):(n=R(n),n[e].apply(n,t).valueOf())})},e.prototype.fn=function(e){return function(t){return arguments[0]=t,e.apply(null,arguments)}},e.prototype.falsey=function(e){return e===!1||e===null||e===void 0},e.prototype.truthy=function(e){return!rt(e)},e.prototype.respond_to=function(e,t){return e[t]!==void 0},e.prototype.is_equal=function(e,t){return e===t?!0:typeof e=="object"?e.equals!=null?e.equals(t):st(e)?pt.equals(e,t):e.valueOf!=null?e.valueOf()===t.valueOf():!1:typeof t=="object"?t.equals!=null?t.equals(e):st(t)?pt.equals(e,t):t.valueOf!=null?t.valueOf()===e.valueOf():!1:e===t},e.prototype.is_eql=function(e,t){return typeof e=="object"?e.eql(t):typeof t=="object"?t.eql(e):e===t},e.prototype.extend=function(e,t){var n,r;for(r in t)n=t[r],e[r]=n;return e},e}(),Nt=RubyJS.Base.prototype;for(M in Nt){if(!Pt.call(Nt,M))continue;O=Nt[M],RubyJS[M]=O}rt=R.falsey,ct=R.truthy,tt=R.is_equal,N=["ArgumentError","RegexpError","TypeError","KeyError","IndexError","FloatDomainError","RangeError","StandardError","ZeroDivisionError","NotSupportedError","NotImplementedError"],mt=function(e){var t,n;return t=function(e){function t(){return n=t.__super__.constructor.apply(this,arguments),n}return Ht(t,e),t}(Error),t["new"]=function(){return new RubyJS[e](e)},RubyJS[e]=this["R"+e]=t};for(bt=0,St=N.length;bt<St;bt++)T=N[bt],mt(T);dt={"native":function(e){return typeof e!="object"?e:e.valueOf()},str:function(e){return e===null&&vt.throw_type(),typeof e=="object"&&(e=e.valueOf()),typeof e!="string"&&vt.throw_type(),e},try_str:function(e){return typeof e=="string"?e:(e!==null&&(e=e.valueOf()),typeof e=="string"?e:null)},num:function(e){return e===null&&vt.throw_type(),typeof e=="object"&&(e=e.valueOf()),typeof e!="number"&&vt.throw_type(),e},"int":function(e){return e===null&&vt.throw_type(),typeof e=="object"&&(e=e.valueOf()),typeof e!="number"&&vt.throw_type(),Math.floor(e)},isArray:_.isArray||function(e){return W.call(e)==="[object Array]"},is_arr:function(e){return typeof e=="object"&&e!==null&&dt.isArray(e.valueOf())},is_str:function(e){return typeof e=="string"?!0:typeof e=="object"&&e!==null&&typeof e.valueOf()=="string"},is_rgx:function(e){return e==null?!1:W.call(e.valueOf())==="[object RegExp]"},arr:function(e){return e===null&&vt.throw_type(),typeof e!="object"&&vt.throw_type(),e=e.valueOf(),dt.isArray(e)||vt.throw_type(),e},split_args:function(e,t){var n,r,i,s;n=e.length,r=[],s=t;while(s<n)i=e[s],i!==void 0&&r.push(i),s+=1;return r},call_with:function(e,t,n){var r;r=n;switch(n.length){case 0:return e(t);case 1:return e(t,r[0]);case 2:return e(t,r[0],r[1]);case 3:return e(t,r[0],r[1],r[2]);case 4:return e(t,r[0],r[1],r[2],r[3]);case 5:return e(t,r[0],r[1],r[2],r[3],r[4]);case 6:return e(t,r[0],r[1],r[2],r[3],r[4],r[5]);default:return e.apply(null,[t].concat(F.call(n,0)))}},cmp:function(e,t){if(typeof e!="object"&&typeof e==typeof t)return e===t?0:e<t?-1:1;e=R(e);if(e.cmp==null)throw"NoMethodError";return e.cmp(t)},cmpstrict:function(e,t){var n;if(typeof e==typeof t&&typeof e!="object")return e===t?0:e<t?-1:1;e=R(e);if(e.cmp==null)throw"NoMethodError";return n=e.cmp(t),n===null&&vt.throw_argument(),n}},R.Support.coerce=dt,lt=dt.str,it=dt.int,at=dt.num,J=dt.arr,st=dt.is_arr,ut=dt.is_str,ot=dt.is_rgx,Q=dt.call_with,G=dt.cmp,Y=dt.cmpstrict,ht=dt.try_str,vt={throw_argument:function(e){throw RArgumentError["new"](e)},throw_type:function(e){throw RTypeError["new"](e)},throw_index:function(e){throw RIndexError["new"](e)},throw_not_implemented:function(e){throw RNotImplementedError["new"](e)},throw_key:function(e){throw RKeyError["new"](e)}},R.Support.err=vt,a=function(){function e(){}return e.prototype.cmp=function(e,t){return e===t?0:null},e.prototype.abs=function(e){return e<0?-e:e},e.prototype.abs2=function(e){return this.nan(e)?e:Math.pow(e,2)},e.prototype.ceil=function(e){return Math.ceil(e)},e.prototype.divmod=function(e,t){var n,r;return r=Math.floor(e/t),n=e%t,[r,n]},e.prototype.downto=function(e,t,n){var r;if((n!=null?n.call:void 0)==null)return et(Tt.downto,[e,t]);t=Math.ceil(t),r=e;while(r>=t)n(r),r-=1;return e},e.prototype.eql=function(e,t){return e===t},e.prototype.floor=function(e){return Math.floor(e)},e.prototype.nonzero=function(e){return e===0?null:e},e.prototype.step=function(e,t,n,r){var i,s,o,u;n==null&&(n=1);if((r!=null?r.call:void 0)==null&&(n!=null?n.call:void 0)==null)return et(Tt.step,[e,t,n]);(r!=null?r.call:void 0)==null&&(r=n,n=1),n===0&&vt.throw_argument(),s=e%1===0||t%1===0||n%1===0;if(s){u=(t-e)/n,o=0;if(n>0)while(o<=u)i=o*n+e,t<i&&(i=t),r(i),o+=1;else while(o<=u)i=o*n+e,t>i&&(i=t),r(i),o+=1}else if(n>0)while(!(e>t))r(e),e+=n;else while(!(e<t))r(e),e+=n;return this},e.prototype.upto=function(e,t,n){var r;if((n!=null?n.call:void 0)==null)return et(Tt.upto,[e,t]);t=Math.floor(t),r=e;while(r<=t)n(r),r+=1;return e},e.prototype.zero=function(e){return e===0},e.prototype.even=function(e){return e%2===0},e.prototype.gcd=function(e,t){var n;n=null,t=it(t);while(t!==0)n=t,t=e%t,e=n;return e<0?-e:e},e.prototype.gcdlcm=function(e,t){return t=it(t),[Tt.gcd(e,t),Tt.lcm(e,t)]},e.prototype.lcm=function(e,t){var n;return t=it(t),n=e*t/Tt.gcd(e,t),Tt.numerator(n)},e.prototype.numerator=function(e){return e<0?-e:e},e.prototype.odd=function(e){return e%2===1},e.prototype.ord=function(){return this},e.prototype.next=function(e){return e+1},e.prototype.pred=function(e){return e-1},e.prototype.round=function(e,t){var n;return t===void 0?e:(n=Math.pow(10,it(t)),Math.round(e*n)/n)},e.prototype.times=function(e,t){var n;if((t!=null?t.call:void 0)==null)return et(Tt.times,[e]);if(e>0){n=0;while(n<e)t(n),n+=1;return e}return e},e.prototype.magnitude=e.prototype.abs,e.prototype.succ=e.prototype.next,e}(),Tt=R._num=new a,o=function(){function e(){}return e.prototype.catch_break=R.Kernel.prototype.catch_break,e.prototype.each=function(e,t){var n,r;if(e.each!=null)e.each(t);else if(st(e))pt.each(e,t);else for(n in e){if(!Pt.call(e,n))continue;r=e[n],t(n,r)}return e},e.prototype.all=function(e,t){return wt.catch_break(function(n){var r;return r=K(t,e),wt.each(e,function(){var e;e=r.invoke(arguments);if(rt(e))return n["break"](!1)}),!0})},e.prototype.any=function(e,t){return wt.catch_break(function(n){var r;return r=K(t,e),wt.each(e,function(){var e;e=r.invoke(arguments);if(!rt(e))return n["break"](!0)}),!1})},e.prototype.collect_concat=function(e,t){var n,r;return t==null&&(t=null),r=K(t,this),n=[],wt.each(e,function(){return n.push(r.invoke(arguments))}),pt.flatten(n,1)},e.prototype.flat_map=e.collect_concat,e.prototype.count=function(e,t){var n,r,i;return i=0,t===void 0?wt.each(e,function(){return i+=1}):t===null?wt.each(e,function(e){if(e===null)return i+=1}):t.call!=null?(n=K(t,e),wt.each(e,function(){var e;e=n.invoke(arguments);if(!rt(e))return i+=1})):(r=t,wt.each(e,function(e){if(tt(r,e))return i+=1})),i},e.prototype.cycle=function(e,t,n){var r,i,s,o,u,a;n||t&&t.call!=null&&(n=t,t=null);if(t!==null&&t!==void 0){o=it(t);if(o<=0)return null}else o=null;if(!n)return et(wt.cycle,[t]);i=K(n,e),r=[],wt.each(e,function(){return r.push(i.args(arguments)),i.invoke(arguments)});if(r.length===0)return null;if(o>0){s=0,o-=1,u=[];while(o>s)u.push(pt.each(r,function(){return i.invoke(arguments),s+=1}));return u}a=[];for(;;)a.push(pt.each(r,function(){return i.invoke(arguments)}));return a},e.prototype.drop=function(e,t){var n;return n=[],wt.each_with_index(e,function(e,r){if(t<=r)return n.push(e)}),n},e.prototype.drop_while=function(e,t){var n,r,i;return r=K(t,e),n=[],i=!0,wt.each(e,function(){if(!i||!r.invoke(arguments))return i=!1,n.push(r.args(arguments))}),n},e.prototype.each_cons=function(e,t,n){var r,s,o;return s=K(n,e),o=n.length,r=[],wt.each(e,function(){r.push(i.prototype.args(arguments)),r.length>t&&r.shift();if(r.length===t)return o>1?n.apply(e,r.slice(0)):n.call(e,r.slice(0))}),null},e.prototype.each_entry=function(e,t){var n,r;return n=new i(t,e),r=t.length,wt.each(e,function(){var i;return i=n.args(arguments),r>1&&st(i)?t.apply(e,i):t.call(e,i)}),e},e.prototype.each_slice=function(e,t,n){var r,s,o,u;return o=K(n,e),u=n.length,s=[],wt.each(e,function(){var r;s.push(i.prototype.args(arguments));if(s.length===t)return r=s.slice(0),u>1?n.apply(e,r):n.call(e,r),s=[]}),s.length!==0&&(r=s.slice(0),u>1?n.apply(e,r):n.call(e,r)),null},e.prototype.each_with_index=function(e,t){var n,r;return(t!=null?t.call:void 0)==null?et(wt.each_with_index,[e]):(n=K(t,e),r=0,wt.each(e,function(){var e;return e=n.invokeSplat(n.args(arguments),r),r+=1,e}),e)},e.prototype.each_with_object=function(e,t,n){var r;return(n!=null?n.call:void 0)==null?et(wt.each_with_object,[e,t]):(r=K(n,e),wt.each(e,function(){var e;return e=i.prototype.args(arguments),r.invokeSplat(e,t)}),t)},e.prototype.find=function(e,t,n){var r;return n==null&&(n=null),n===null&&(n=t,t=null),r=K(n,this),wt.catch_break(function(n){return wt.each(e,function(){if(!rt(r.invoke(arguments)))return n["break"](r.args(arguments))}),typeof t=="function"?t():void 0})},e.prototype.find_all=function(e,t){var n,r;return n=[],r=K(t,e),wt.each(e,function(){if(!rt(r.invoke(arguments)))return n.push(r.args(arguments))}),n},e.prototype.find_index=function(e,t){var n;return t.call!=null?n=t:n=function(e){return tt(t,e)},wt.catch_break(function(t){var r,i;return i=0,r=K(n,e),wt.each(e,function(){return r.invoke(arguments)&&t["break"](i),i+=1}),null})},e.prototype.first=function(e,t){return t==null&&(t=null),t!==null?(t<0&&vt.throw_argument(),wt.take(e,t)):wt.take(e,1)[0]},e.prototype.include=function(e,t){return wt.catch_break(function(n){return wt.each(e,function(e){if(tt(t,e))return n["break"](!0)}),!1})},e.prototype.__inject_args__=function(e,t,n){var r;return(t!=null?t.call:void 0)!=null?n=t:t?n=function(e,n){return e[t](n)}:((r=R(e))!=null?r.is_string:void 0)!=null?(n=function(t,n){return t[""+e](n)},e=void 0):e.call!=null&&(n=e,e=void 0),[e,t,n]},e.prototype.inject=function(e,t,n,r){var s,o;return o=wt.__inject_args__(t,n,r),t=o[0],n=o[1],r=o[2],s=K(r,e),wt.each(e,function(){var e;return t===void 0?t=s.args(arguments):(e=i.prototype.args(arguments),t=s.invokeSplat(t,e))}),t},e.prototype.grep=function(e,t,n){var r,i;return r=[],t=R(t),i=K(n,e),n?wt.each(e,function(e){if(t["==="](e))return r.push(i.invoke(arguments))}):wt.each(e,function(e){if(t["==="](e))return r.push(e)}),r},e.prototype.group_by=function(e,t){var n,r;return n=K(t,e),r={},wt.each(e,function(){var e,t;return e=n.args(arguments),t=n.invoke(arguments),r[t]||(r[t]=[]),r[t].push(e)}),r},e.prototype.map=function(e,t){var n,r;return r=K(t,e),n=[],wt.each(e,function(){return n.push(r.invoke(arguments))}),n},e.prototype.max=function(e,t){var n;return n=void 0,t||(t=G),wt.each(e,function(e){var r;if(n===void 0)return n=e;r=t(e,n),r===null&&vt.throw_argument();if(r>0)return n=e}),n||null},e.prototype.max_by=function(e,t){var n;return n=void 0,wt.each(e,function(e){var r;if(n===void 0)return n=e;r=Y(t(e),t(n));if(r>0)return n=e}),n||null},e.prototype.min=function(e,t){var n;return n=void 0,t||(t=G),wt.each(e,function(e){var r;if(n===void 0)return n=e;r=t.call(this,e,n),r===null&&vt.throw_argument();if(r<0)return n=e}),n||null},e.prototype.min_by=function(e,t){var n;return n=void 0,wt.each(e,function(e){var r;if(n===void 0)return n=e;r=Y(t(e),t(n));if(r<0)return n=e}),n||null},e.prototype.minmax=function(e,t){return[wt.min(e,t),wt.max(e,t)]},e.prototype.minmax_by=function(e,t){return[wt.min_by(e,t),wt.max_by(e,t)]},e.prototype.none=function(e,t){return wt.catch_break(function(n){var r;return r=K(t,e),wt.each(e,function(e){var t;t=r.invoke(arguments);if(!rt(t))return n["break"](!1)}),!0})},e.prototype.one=function(e,t){var n;return n=0,wt.catch_break(function(r){var i;return i=K(t,e),wt.each(e,function(e){var t;t=i.invoke(arguments),rt(t)||(n+=1);if(n>1)return r["break"](!1)}),n===1})},e.prototype.partition=function(e,t){var n,r,s;return r=[],s=[],n=K(t,e),wt.each(e,function(){var e;return e=i.prototype.args(arguments),n.invokeSplat(e)?r.push(e):s.push(e)}),[r,s]},e.prototype.reject=function(e,t){var n,r;return r=K(t,e),n=[],wt.each(e,function(){if(rt(r.invoke(arguments)))return n.push(r.args(arguments))}),n},e.prototype.reverse_each=function(e,t){return pt.reverse_each(wt.to_a(e),t),e},e.prototype.slice_before=function(){var e;e=1<=arguments.length?Bt.call(arguments,0):[]},e.prototype.sort=function(e,t){return t||(t=Y),e.to_native!=null&&(e=e.to_native()),I.call(e,t)},e.prototype.sort_by=function(e,t){var n,r;return r=K(t,e),n=[],wt.each(e,function(e){return n.push(new y(e,r.invoke(arguments)))}),n=pt.sort(n,Y),pt.map(n,function(e){return e.value})},e.prototype.take=function(e,t){var n;return t<0&&vt.throw_argument(),n=[],wt.catch_break(function(r){return wt.each(e,function(){return n.length===t&&r["break"](),n.push(i.prototype.args(arguments))})}),n},e.prototype.take_while=function(e,t){var n;return n=[],wt.catch_break(function(r){return wt.each(e,function(){return rt(t.apply(e,arguments))&&r["break"](),n.push(i.prototype.args(arguments))})}),n},e.prototype.to_a=function(e){var t;return t=[],wt.each(e,function(){var e;return e=arguments.length>1?F.call(arguments,0):arguments[0],t.push(e),null}),t},e.prototype.zip=function(e,t){},e.prototype.detect=e.prototype.find,e.prototype.select=e.prototype.find_all,e.prototype.collectConcat=e.prototype.collect_concat,e.prototype.dropWhile=e.prototype.drop_while,e.prototype.eachCons=e.prototype.each_cons,e.prototype.eachEntry=e.prototype.each_entry,e.prototype.eachSlice=e.prototype.each_slice,e.prototype.eachWithIndex=e.prototype.each_with_index,e.prototype.eachWithObject=e.prototype.each_with_object,e.prototype.findAll=e.prototype.find_all,e.prototype.findIndex=e.prototype.find_index,e.prototype.flatMap=e.prototype.flat_map,e.prototype.groupBy=e.prototype.group_by,e.prototype.maxBy=e.prototype.max_by,e.prototype.minBy=e.prototype.min_by,e.prototype.minmaxBy=e.prototype.minmax_by,e.prototype.reverseEach=e.prototype.reverse_each,e.prototype.sliceBefore=e.prototype.slice_before,e.prototype.sortBy=e.prototype.sort_by,e.prototype.takeWhile=e.prototype.take_while,e.prototype.toA=e.prototype.to_a,e.prototype.collect=e.prototype.map,e.prototype.member=e.prototype.include,e.prototype.reduce=e.prototype.inject,e.prototype.entries=e.prototype.to_a,e}(),y=function(){function e(e,t){this.value=e,this.sort_by=t}return e.prototype.cmp=function(e){var t;return(t=this.sort_by)!=null?t.cmp(e.sort_by):void 0},e}(),wt=R._itr=new o,t=function(e){function t(){return Ct=t.__super__.constructor.apply(this,arguments),Ct}return Ht(t,e),t.prototype.equals=function(e,t){var n,r;if(e===t)return!0;if(t==null)return!1;if(!st(t))return!1;t=J(t);if(e.length!==t.length)return!1;n=0,r=n+e.length;while(n<r){if(!tt(e[n],t[n]))return!1;n+=1}return!0},t.prototype.append=function(e,t){return e.push(t),e},t.prototype["&"]=function(e){var t;return t=[],pt.each(t,function(n){if(pt.include(e,n))return t.push(n)}),pt.uniq(t)},t.prototype.cmp=function(e){},t.prototype.at=function(e,t){return t<0?e[e.length+t]:e[t]},t.prototype.combination=function(e,t,n){var r,i,s,o,u,a;if((n!=null?n.call:void 0)==null)return et(pt.combination,[e,t]);t=it(t),o=e.length;if(t===0)n([]);else if(t===1)pt.each(e,function(){var t;return t=1<=arguments.length?Bt.call(arguments,0):[],n.call(e,t)});else if(t===o)n(e.slice(0));else if(t>=0&&t<o){t=t,a=function(){var e,n,r;r=[];for(s=e=0,n=t+1;0<=n?e<=n:e>=n;s=0<=n?++e:--e)r.push(0);return r}(),r=[],u=0,i=!1,a[0]=-1;while(!i){r[u]=e[a[u+1]];while(u<t-1)u+=1,a[u+1]=a[u]+1,r[u]=e[a[u+1]];n.call(e,r.slice(0)),u+=1,i=u===0,a[u]+=1,u-=1;while(a[u+1]+t===o+u+1)i=u===0,a[u]+=1,u-=1}}return e},t.prototype.compact=function(e){var t,n,r,i;t=[];for(r=0,i=e.length;r<i;r++)n=e[r],n!=null&&t.push(n);return t},t.prototype["delete"]=function(e,t,n){var r,i,s,o,u,a;r=[],i=0,s=e.length;while(i<s)tt(t,e[i])&&r.push(i),i+=1;if(r.length>0){a=r.reverse();for(o=0,u=a.length;o<u;o++)i=a[o],e.splice(i,1);return t}return n?n():null},t.prototype.delete_at=function(e,t){return t<0&&(t+=e.length),t<0||t>=e.length?null:e.splice(t,1)[0]},t.prototype.first=function(e,t){return t!=null?(t<0&&vt.throw_argument(),e.slice(0,t)):e[0]},t.prototype.flatten=function(e,t){var n,r,i,s;t==null&&(t=-1),e=J(e),n=[],s=e.length,i=-1;while(++i<s)r=e[i],t!==0&&st(r)?B.apply(n,pt.flatten(r,t-1)):n.push(r);return n},t.prototype.each=function(e,t){var r,i;if(t==null)return e;t=n.splat_arguments(t),r=-1,i=e.length;while(++r<e.length)t(e[r]);return e},t.prototype.each_with_context=function(e,t,r){var i,s;if(r==null)return et(pt.each_with_context,[e,t]);r=n.splat_arguments(r),i=-1,s=e.length;while(++i<e.length)r.call(t,e[i]);return e},t.prototype.each_index=function(e,t){var n,r;if(t==null)return et(pt.each_index,[e]);n=-1,r=e.length;while(++n<r)t(n);return this},t.prototype.get=function(e,t){return pt.slice(e,t)},t.prototype.empty=function(e){return e.length===0},t.prototype.fetch=function(e,t,n){var r,i;t=it(t),r=e.length,i=t,t<0&&(t+=r);if(t<0||t>=r){if((n!=null?n.call:void 0)!=null)return n(i);if(n!==void 0)return n;vt.throw_index()}return e[t]},t.prototype.fill=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p;t=arguments[0],e=2<=arguments.length?Bt.call(arguments,1):[],e.length===0&&vt.throw_argument(),n=nt(e),n?(e.length>=3&&vt.throw_argument(),a=e[0],h=e[1]):(e.length>3&&vt.throw_argument(),u=e[0],a=e[1],h=e[2]),l=t.length;if((a!=null?a.is_range:void 0)!=null)vt.throw_not_implemented();else if(a!==void 0&&a!==null){o=it(a),o<0&&(o+=l),o<0&&(o=0);if(h!==void 0&&h!==null){try{f=it(h)}catch(d){r=d,vt.throw_argument("second argument must be a Fixnum")}if(f===0)return t;f+=o}else f=l}else o=0,f=l;c=f,f>l&&(i=pt.__native_array_with__(f-l,null),t.push.apply(t,i),c=f),s=o;if(n)while(c>s)p=n(s),t[s]=p===void 0?null:p,s+=1;else while(c>s)t[s]=u,s+=1;return t},t.prototype.insert=function(e,t){var n,r,i,s,o,u,a,f,l,c;t===void 0&&vt.throw_argument();if(arguments.length===2)return e;s=dt.split_args(arguments,2),o=e.length,t<0&&(t=t+o+1),t<0&&vt.throw_index(),n=e.slice(t);if(t>o)for(i=u=o;o<=t?u<t:u>t;i=o<=t?++u:--u)e[i]=null;o=0;for(i=a=0,l=s.length;a<l;i=++a)r=s[i],r!==void 0&&(e[t+i]=r,o+=1);for(i=f=0,c=n.length;f<c;i=++f)r=n[i],e[t+o+i]=r;return e},t.prototype.join=function(e,t){return e.length===0?"":(t===void 0&&(t=R["$,"]),t===null&&(t=""),D.call(pt.flatten(e),t))},t.prototype.keep_if=function(e,t){var r,i,s,o;if(t==null)return et(pt.keep_if,[e]);t=n.splat_arguments(t),r=[],s=-1,o=e.length;while(++s<o)i=e[s],rt(t(i))||r.push(i);return r},t.prototype.last=function(e,t){var n;return n=e.length,t===void 0?e[n-1]:n===0||t===0?[]:(t<0&&vt.throw_argument("count must be positive"),t>n&&(t=n),e.slice(-t))},t.prototype.minus=function(e,t){var n,r,i,s;t=J(t),n=[],i=-1,s=e.length;while(++i<s)r=e[i],pt.include(t,r)||n.push(r);return n},t.prototype.multiply=function(e,t){var n,r,i;t===null&&vt.throw_type();if(ut(t))return pt.join(e,lt(t));t=it(t),t<0&&vt.throw_argument("count cannot be negative"),i=e.length;if(i===0)return[];if(i===1)return e.slice(0);n=[],r=-1;while(++r<t)n=n.concat(e);return n},t.prototype.pop=function(e,t){var n,r;if(t===void 0)return e.pop();t=it(t),t<0&&vt.throw_argument("negative array size"),n=[],r=e.length,t>r&&(t=r);while(t--)n[t]=e.pop();return n},t.prototype.product=function(){var e,t,n,r,i,s,o,u,a,f;n=arguments[0],t=2<=arguments.length?Bt.call(arguments,1):[],o=[],r=nt(t),t=function(){var n,r,i;i=[];for(n=0,r=t.length;n<r;n++)e=t[n],i.push(J(e));return i}(),t=t.reverse(),t.push(n),s=pt.inject(t,o.push,function(e,t){return function(n){var r,i,s,u;u=[];for(i=0,s=t.length;i<s;i++)r=t[i],u.push(e.call(o,n.concat(r)));return u}}),s([]);if(r){i=n;for(a=0,f=o.length;a<f;a++)u=o[a],i.push(r(u));return i}return o},t.prototype.push=function(){var e,t;return e=arguments[0],t=2<=arguments.length?Bt.call(arguments,1):[],e.push.apply(e,t),e},t.prototype.rassoc=function(e,t){var n,r,i,s,o;o=e.length,s=-1;while(++s<o){i=e[s];try{r=J(i);if(tt(r[1],t))return i}catch(u){n=u,null}}return null},t.prototype.reverse_each=function(e,t){var r;if(t==null)return et(pt.reverse_each,[e]);t=n.splat_arguments(t),r=e.length;while(r--)t(e[r]);return e},t.prototype.rindex=function(e,t){var r,i,s,o;if(t===void 0)return et(pt.rindex,[e,t]);s=e.length,o=e.length;if(t.call!=null){r=n.splat_arguments(t);while(o--){i=e[o];if(!rt(r(i)))return o}}else while(o--){i=e[o];if(tt(i,t))return o}return null},t.prototype.rotate=function(e,t){var n,r,i;return t===void 0?t=1:t=it(t),r=e.length,r===1?e:r===0?[]:(n=t%r,i=e.slice(0,n),e.slice(n).concat(i))},t.prototype.sample=function(e,t,n){var r,i,s,o,u;n==null&&(n=void 0),s=e.length;if(t===void 0)return e[ft(s)];t=it(t),t<0&&vt.throw_argument(),t>s&&(t=s),r=e.slice(0),i=-1;while(++i<t)o=i+ft(s-i),u=r[i],r[i]=r[o],r[o]=u;return r.slice(0,t)},t.prototype.shuffle=function(e){var t,n,r,i,s;r=e.length,t=new Array(r),n=-1;while(++n<r)i=n+ft(r-n),s=e[n],t[n]=e[i],t[i]=s;return t},t.prototype.slice=function(e,t,n){var r,i,s,o,u;return t===null&&vt.throw_type(),u=e.length,(t!=null?t.is_range:void 0)!=null?(r=t,o=it(r.begin()),i=it(r.end()),o<0&&(o+=u),i<0&&(i+=u),r.exclude_end()||(i+=1),s=i-o,o>u||o<0?null:e.slice(o,i)):(t=it(t),t<0&&(t=u+t),n===void 0?t<0||t>=u?null:e[t]:(n=it(n),t<0||t>u||n<0?null:e.slice(t,n+t)))},t.prototype.transpose=function(e){var t,n,r,i,s,o,u,a;if(e.length===0)return[];o=[],s=null;for(u=0,a=e.length;u<a;u++){t=e[u],t=J(t),s||(s=t.length),t.length!==s&&vt.throw_index(),r=-1,i=t.length;while(++r<i)o[r]||o.push([]),n=o[r],n.push(t[r])}return o},t.prototype.uniq=function(e){var t,n,r,i;r=-1,i=e.length,t=[];while(++r<i)n=e[r],t.indexOf(n)<0&&t.push(n);return t},t.prototype.unshift=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Bt.call(arguments,1):[],e.concat(t)},t.prototype.union=function(e,t){return pt.uniq(e.concat(J(t)))},t.prototype.values_at=function(e){var t,n,r;r=arguments.length,t=new Array(r-1),n=1;while(n<r)t[n-1]=pt.at(e,it(arguments[n]))||null,n+=1;return t},t.prototype.find_index=function(e,t){var r,i,s;s=e.length,i=-1;if(typeof t=="function"||typeof t=="object"&&t.call!=null)r=n.splat_arguments(t);else{if(t===null||typeof t!="object"){while(++i<s)if(e[i]===t)return i;return null}r=function(e){return tt(t,e)}}while(++i<s)if(r(e[i]))return i;return null},t.prototype.map=function(e,t){var r,i,s,o;i=n.splat_arguments(t),s=-1,o=e.length,r=new Array(o);while(++s<o)r[s]=i(e[s]);return r},t.prototype.take=t.prototype.first,t.prototype.__native_array_with__=function(e,t){var n,r;n=_(it(e)),r=-1;while(++r<e)n[r]=t;return n},t}(o),pt=R._arr=function(e){return new m(e,pt)},R.extend(pt,new t),w=function(){function e(){}return e.prototype.equals=function(e,t){return typeof e=="object"&&(e=e.valueOf()),typeof t=="object"&&(t=t.valueOf()),e===t},e.prototype.camel_case=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,r){return r?n.toUpperCase():n})},e.prototype.capitalize=function(e){var t,n;return e.length===0?"":(n=_t.downcase(e),t=_t.upcase(e[0]),t+U.call(n,1))},e.prototype.center=function(e,t,n){var r,i,s,o;return n==null&&(n=" "),n.length===0&&vt.throw_argument(),o=e.length,o>=t?e:(r=Math.floor((t-o)/2),s=t-o-r,i=r>s?r:s,n=_t.multiply(n,i),n.slice(0,r)+e+n.slice(0,s))},e.prototype.chars=function(e,t){var n,r;n=-1,r=e.length;while(++n<r)t(e[n]);return e},e.prototype.chomp=function(e,t){var n,r,i;return t==null&&(t=null),t===null?_t.empty(e)?"":null:(t=lt(t),t.length===0?r=/((\r\n)|\n)+$/:t==="\n"||t==="\r"||t==="\r\n"?(n=((i=q.call(e,/((\r\n)|\n|\r)$/))!=null?i[0]:void 0)||"\n",r=new RegExp("("+Mt.escape(n)+")$")):r=new RegExp("("+Mt.escape(t)+")$"),e.replace(r,""))},e.prototype.chop=function(e){return e.length===0?e:e.lastIndexOf("\r\n")===e.length-2?e.replace(/\r\n$/,""):_t.slice(e,0,e.length-1)},e.prototype.count=function(e){var t;return arguments.length===1&&vt.throw_argument("String.count needs arguments"),t=dt.split_args(arguments,1),_t.__matched__(e,t).length},e.prototype["delete"]=function(e){var t,n;return arguments.length===1&&vt.throw_argument(),t=dt.split_args(arguments,1),n=_t.__matched__(e,t),e.replace(new RegExp("["+n+"]","g"),"")},e.prototype.each_line=function(e,t,n){var r,i,s,o;if(n==null){if(t==null){n(e);return}t.call!=null&&(n=t,t=null)}t||(t=R["$/"]),t.length===0&&(t="\n\n"),i=0,o=null,r=e;while((o=_t.index(r,t,i))!==null)o+=1,e=_t.slice(r,i,o-i),i=o,n(e);return s=U.call(r,i),s!=null&&s.length!==0&&n(s),this},e.prototype.downcase=function(e){return q.call(e,/[A-Z]/)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):e},e.prototype.dump=function(e){var t;return t=e.replace(/[\f]/g,"\\f").replace(/["]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t"),'"'+t+'"'},e.prototype.empty=function(e){return e.length===0},e.prototype.end_with=function(e){var t,n,r,i,s;n=dt.split_args(arguments,1);for(i=0,s=n.length;i<s;i++){r=n[i];try{r=lt(r);if(e.lastIndexOf(r)+r.length===e.length)return!0}catch(o){t=o}}return!1},e.prototype.gsub=function(e,t,n){var r;t===null&&vt.throw_type(),r=ht(t),r!==null&&(t=new RegExp(Mt.escape(r),"g")),ot(t)||vt.throw_type();if(!t.global)throw"String#gsub: "+t+" has not set the global flag 'g'. "+t+"g";return e.replace(t,n)},e.prototype.include=function(e,t){return e.indexOf(t)>=0},e.prototype.index=function(e,t,n){var r;return t=lt(t),n!=null&&(n=it(n),n<0&&(n=e.length+n)),n!=null&&(n>e.length||n<0)?null:(r=e.indexOf(t,n),r<0?null:r)},e.
prototype.insert=function(e,t,n){var r,i,s,o;return t<0&&(t=e.length-Math.abs(t)+1),(t<0||t>e.length)&&vt.throw_index(),s=e.split(""),i=s.slice(0,t),o=n.split(""),r=s.slice(t),i.concat(o).concat(r).join("")},e.prototype.ljust=function(e,t,n){var r,i,s,o;n==null&&(n=" "),i=e.length;if(i>=t)return e;n.length===0&&vt.throw_argument(),o=t-i,r=-1,s="";while(++r<=o)s+=n;return e+s.slice(0,o)},e.prototype.lstrip=function(e){return e.replace(/^[\s\n\t]+/g,"")},e.prototype.match=function(e,t,n,r){var i,s,o;return n==null&&(n=null),r==null&&(n!=null?n.call:void 0)!=null&&(r=n,n=null),s={},n!=null?(s={string:e,offset:n},e=U.call(e,n),i=q.call(e,t,n)):i=q.call(e,t),o=i?new R.MatchData(i,s):null,R["$~"]=o,r?o?r(o):[]:o},e.prototype.multiply=function(e,t){var n,r,i;t<0&&vt.throw_argument(),r="";for(n=i=0;0<=t?i<t:i>t;n=0<=t?++i:--i)r+=e;return r},e.prototype.partition=function(e,t){var n,r,i,s,o;return s=_t.index(e,t),s!==null?(o=s+t.length,n=_t.slice(e,0,s)||"",r=t,i=U.call(e,o),[n,r,i]):[e,"",""]},e.prototype.reverse=function(e){return e.split("").reverse().join("")},e.prototype.rindex=function(e,t,n){var r;if(n!==void 0){n<0&&(n+=e.length);if(n<0)return null;typeof t=="string"?(n+=t.length,r=e.slice(0,n).lastIndexOf(t)):r=_t.__rindex_with_regexp__(e,t,n)}else typeof t=="string"?r=e.lastIndexOf(t):r=_t.__rindex_with_regexp__(e,t);return r===-1?null:r},e.prototype.__rindex_with_regexp__=function(e,t,n){var r,i,s;t.global||(t=new RegExp(t.source,"g"+(t.ignoreCase?"i":"")+(t.multiLine?"m":""))),n==null&&(n=e.length),r=-1,s=0;while((i=t.exec(e))!==null){if(i.index>n)break;r=i.index,t.lastIndex=++s}return r},e.prototype.rjust=function(e,t,n){var r,i;return n==null&&(n=" "),t=it(t),r=e.length,r>=t?e:(n=lt(n),n.length===0&&vt.throw_argument(),i=t-r,_t.multiply(n,i).slice(0,i)+e)},e.prototype.rpartition=function(e,t){var n,r,i,s,o,u;return t=lt(t),s=_t.rindex(e,t),s!==null?(u=s+t.length,o=e.length-u,n=e.slice(0,s),r=t,i=e.slice(u),[n,r,i]):["","",e]},e.prototype.rstrip=function(e){return e.replace(/[\s\n\t]+$/g,"")},e.prototype.scan=function(e,t,n){var r,i,s,o,u;n==null&&(n=null),ot(t)||(t=lt(t),t=Mt.quote(t)),i=0,R["$~"]=null,o=n!==null?e:[];while(s=e.slice(i).match(t)){r=i+s.index+s[0].length,s[0].length===0&&(r+=1),R["$~"]=new R.MatchData(s,{offset:i,string:e}),s.length>1?u=s.slice(1,s.length):u=[s[0]],n!==null?n(u):(s.length===1&&(u=u[0]),o.push(u)),i=r;if(i>e.length)break}return n!==null?e:o},e.prototype.squeeze=function(e){var t,n,r,i,s,o,u,a,f;a=dt.split_args(arguments,1),f=_t.__matched__(e,a),r=e.split(""),u=e.length,i=1,s=0,o=r[0],t=a.length===0;while(i<u){n=r[i];if(n!==o||!(t||f.indexOf(n)>=0))r[s+=1]=o=n;i+=1}return s+1<u&&(r=r.slice(0,+s+1||9e9)),r.join("")},e.prototype.strip=function(e){return _t.rstrip(_t.lstrip(e))},e.prototype.sub=function(e,t,n){var r;t===null&&vt.throw_type(),r=ht(t),r!==null&&(t=new RegExp(Mt.escape(r))),ot(t)||vt.throw_type();if(t.global)throw"String#sub: "+t+" has set the global flag 'g'. "+t+"g";return e.replace(t,n)},e.prototype.succ=function(e){var t,n,r,i,s,o,u;if(e.length===0)return"";i=function(){var n,r,i,s;i=e.split(""),s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(t.charCodeAt(0));return s}(),n=null,s=0,u=i.length-1;while(u>=0){o=i[u];if(z.fromCharCode(o).match(/[a-zA-Z0-9]/)!==null){n=0,48<=o&&o<57||97<=o&&o<122||65<=o&&o<90?i[u]=i[u]+1:o===57?(i[u]=48,n=49):o===122?i[u]=n=97:o===90&&(i[u]=n=65);if(n===0)break;s=u}u-=1}if(n===null){u=i.length-1,n=1;while(u>=0){o=i[u];if(!(o>=255)){i[u]=i[u]+1;break}i[u]=0,u-=1}}return r=function(){var e,n,r;r=[];for(e=0,n=i.length;e<n;e++)t=i[e],r.push(String.fromCharCode(t));return r}(),u<0&&(r[s]=z.fromCharCode(n,i[s])),r.join("")},e.prototype.slice=function(e,t,n){var r,i,s;t===null&&vt.throw_type(),i=e.length;if(n!==void 0){if(t.is_regexp==null)return r=n,s=t,s<0&&(s+=i),r<0||s<0||s>i?null:U.call(e,s,s+r);vt.throw_not_implemented()}return t.is_regexp!=null?vt.throw_not_implemented():typeof t=="string"?_t.include(e,t)?t:null:t.is_range!=null?(s=it(t.begin()),r=it(t.end()),s<0&&(s+=i),r<0&&(r+=i),t.exclude_end()||(r+=1),s===i?"":s<0||s>i?null:(r>i&&(r=i),r-=s,r<0&&(r=0),U.call(e,s,s+r))):(t<0&&(t+=i),t<0||t>=i?null:e[t])},e.prototype.split=function(e,t,n){var r,i,s,o,u;t==null&&(t=" "),typeof t!="string"&&(t=t.valueOf()),r=e.split(t);while(ct(e=r[r.length-1])){if(e.length!==0)break;r.pop()}if(t===" "){s=[];for(o=0,u=r.length;o<u;o++)i=r[o],i!==""&&s.push(i);r=s}return r},e.prototype.start_with=function(e){var t,n,r,i,s;r=dt.split_args(arguments,1);for(i=0,s=r.length;i<s;i++){n=r[i];try{n=lt(n);if(e.indexOf(n)===0)return!0}catch(o){t=o}}return!1},e.prototype.swapcase=function(e){var t,n,r,i,s;if(!e.match(/[a-zA-Z]/))return e;n=e.split("");for(r=i=0,s=n.length;i<s;r=++i)t=n[r],t.match(/[a-z]/)?n[r]=t.toUpperCase():t.match(/[A-Z]/)&&(n[r]=t.toLowerCase());return n.join("")},e.prototype.to_i=function(e,t){var n;return t===void 0&&(t=10),t=it(t),(t<0||t>36||t===1)&&vt.throw_argument(),n=_t.strip(e),n.match(/^([\+\-]?)([^\+^\-_]+)/)?(n=n.replace(/_/g,""),parseInt(n,t)):0},e.prototype.to_f=function(e){var t,n,r;return t=e.match(/^([\+\-]?[_\d\.]+)([Ee\+\-\d]+)?/),n=(r=t!=null?t[0]:void 0)!=null?r:"0.0",Number(n.replace(/_/g,""))},e.prototype.upcase=function(e){return e.match(/[a-z]/)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e},e.prototype.upto=function(e,t,n,r){var i,s;t=lt(t),n||(n=!1),r===void 0&&(n!=null?n.call:void 0)!=null&&(r=n,n=!1),i=e,s=t.length,n=n===!0;while((e<t||!n&&e===t)&&!(e.length>s))r(e),e=_t.succ(e);return i},e.prototype.__matched__=function(e,t){var n,r,i,s;for(i=0,s=t.length;i<s;i++)n=t[i],r=_t.__to_regexp__(n),e=(q.call(e,r)||[]).join("");return e},e.prototype.__to_regexp__=function(e){var t,n;n="",e.length===0?n="(?!)":e==="^"?n="\\^":(e.lastIndexOf("^")>=1&&(e=e[0]+e.slice(1).replace("^","\\^")),n="["+e+"]");try{return new RegExp(n,"g")}catch(r){return t=r,vt.throw_argument()}},e}(),_t=R._str=function(e){return new m(e,_t)},R.extend(_t,new w),g=function(){function e(){}return e.prototype.escape=function(e){return e=lt(e),e.replace(/([.?*+^$[\](){}|-])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\s]/g,"\\ ")},e.prototype.quote=function(e){return Mt.escape(e)},e}(),Mt=R._rgx=function(e){return new R.Regexp(e)},R.extend(Mt,new g),u=function(e){function t(){return kt=t.__super__.constructor.apply(this,arguments),kt}return Ht(t,e),t.prototype.assoc=function(e,t){var n,r;if(typeof t=="object"&&t.equals!=null)for(n in e){if(!Pt.call(e,n))continue;r=e[n];if(t.equals(n))return[n,r]}else for(n in e){if(!Pt.call(e,n))continue;r=e[n];if(t===n)return[n,r]}return null},t.prototype["delete"]=function(e,t,n){var r;return t in e?(r=e[t],delete e[t],r):(n!=null?n.call:void 0)!=null?n(t):null},t.prototype.delete_if=function(e,t){var n,r;if((t!=null?t.call:void 0)!=null){for(n in e){if(!Pt.call(e,n))continue;r=e[n],t(n,r)&&delete e[n]}return e}},t.prototype.each=function(e,t){var n,r;for(n in e){if(!Pt.call(e,n))continue;r=e[n],t(n,r)}return e},t.prototype.each_key=function(e,t){var n,r;for(n in e){if(!Pt.call(e,n))continue;r=e[n],t(n)}return e},t.prototype.each_value=function(e,t){var n,r;for(n in e){if(!Pt.call(e,n))continue;r=e[n],t(r)}return e},t.prototype.empty=function(e){var t,n;for(t in e){if(!Pt.call(e,t))continue;return n=e[t],!1}return!0},t.prototype.fetch=function(e,t,n){var r;return arguments.length<=1&&vt.throw_argument(),t in e?e[t]:(n!=null?n.call:void 0)!=null||((r=arguments[3])!=null?r.call:void 0)!=null?(arguments[3]||n)(t):n!==void 0?n:vt.throw_key()},t.prototype.flatten=function(e,t){return t==null&&(t=1),t=it(t),pt.flatten(yt.to_a(e),t)},t.prototype.get=function(e,t){return e[t]},t.prototype.has_value=function(e,t){var n,r;if(typeof t=="object"&&t.equals!=null)for(n in e){if(!Pt.call(e,n))continue;r=e[n];if(t.equals(r))return!0}else for(n in e){if(!Pt.call(e,n))continue;r=e[n];if(r===t)return!0}return!1},t.prototype.has_key=function(e,t){return t in e},t.prototype.include=t.prototype.has_key,t.prototype.member=t.prototype.has_key,t.prototype.keep_if=function(e,t){return yt.reject$(e,t),e},t.prototype.key=function(e,t){var n,r;if(typeof t=="object"&&t.equals!=null)for(n in e){if(!Pt.call(e,n))continue;r=e[n];if(t.equals(r))return n}else for(n in e){if(!Pt.call(e,n))continue;r=e[n];if(r===t)return n}return null},t.prototype.invert=function(e){var t,n,r;n={};for(t in e){if(!Pt.call(e,t))continue;r=e[t],n[r]=t}return n},t.prototype.keys=function(e){var t,n,r;r=[];for(t in e){if(!Pt.call(e,t))continue;n=e[t],r.push(t)}return r},t.prototype.merge=function(e,t,n){var r,i,s;i={},t.rubyjs!=null&&(t=t.__native__);for(r in e){if(!Pt.call(e,r))continue;s=e[r],i[r]=s}for(r in t){if(!Pt.call(t,r))continue;s=t[r],(n!=null?n.call:void 0)!=null&&r in i?i[r]=n(r,i[r],s):i[r]=s}return i},t.prototype.merge$=function(e,t,n){var r,i;t.rubyjs!=null&&(t=t.__native__);for(r in e){if(!Pt.call(e,r))continue;i=e[r],e[r]=i}for(r in t){if(!Pt.call(t,r))continue;i=t[r],(n!=null?n.call:void 0)!=null&&r in e?e[r]=n(r,e[r],i):e[r]=i}return e},t.prototype.rassoc=function(e,t){var n,r;if(typeof t=="object"&&t.equals!=null)for(n in e){if(!Pt.call(e,n))continue;r=e[n];if(t.equals(r))return[n,r]}else for(n in e){if(!Pt.call(e,n))continue;r=e[n];if(t===r)return[n,r]}return null},t.prototype.reject=function(e,t){var n,r,i;n={};for(r in e){if(!Pt.call(e,r))continue;i=e[r],t(r,i)||(n[r]=i)}return n},t.prototype.reject$=function(e,t){var n,r,i;n=!1;for(r in e){if(!Pt.call(e,r))continue;i=e[r],t(r,i)||(delete e[r],n=!0)}return n?e:null},t.prototype.select=function(e,t){var n,r,i;n={};for(r in e){if(!Pt.call(e,r))continue;i=e[r],t(r,i)&&(n[r]=i)}return n},t.prototype.select$=function(e,t){var n,r,i;n=!1;for(r in e){if(!Pt.call(e,r))continue;i=e[r],t(r,i)&&(delete e[r],n=!0)}return n?e:null},t.prototype.size=function(e){var t,n,r;t=0;for(n in e){if(!Pt.call(e,n))continue;r=e[n],t+=1}return t},t.prototype.sort=function(e,t){return pt.sort(yt.to_a(e),t)},t.prototype.to_a=function(e){var t,n,r;r=[];for(t in e){if(!Pt.call(e,t))continue;n=e[t],r.push([t,n])}return r},t.prototype.values=function(e){var t,n,r;r=[];for(t in e){if(!Pt.call(e,t))continue;n=e[t],r.push(n)}return r},t.prototype.values_at=function(){var e,t,n,r,i,s;e=arguments[0],n=2<=arguments.length?Bt.call(arguments,1):[],s=[];for(r=0,i=n.length;r<i;r++)t=n[r],s.push(e[t]);return s},t}(o),yt=R._hsh=function(e){return new d(e)},R.extend(yt,new u),E=function(){function e(){}return e.prototype._rjust=function(e,t){return t==null&&(t="0"),_t.rjust(e+"",2,t)},e.prototype.strftime=function(e,t){var n,r,i;return r=R.Time.LOCALE,n=Dt._rjust,i=t.replace(/%(.)/g,function(t,i){var s,o;switch(i){case"a":return r.DAYS_SHORT[Dt.wday(e)];case"A":return r.DAYS[Dt.wday(e)];case"b":return r.MONTHS_SHORT[Dt.month(e)];case"B":return r.MONTHS[Dt.month(e)];case"C":return Dt.year(e)%100;case"d":return n(Dt.day(e));case"D":return Dt.strftime(e,"%m/%d/%y");case"e":return n(Dt.day(e)," ");case"F":return Dt.strftime(e,"%Y-%m-%d");case"h":return r.MONTHS_SHORT[Dt.month(e)];case"H":return n(Dt.hour(e));case"I":return n(Dt.hour12(e));case"j":return o=(new Date(Dt.year(e),0,1)).getTime(),Math.ceil((e.getTime()-o)/864e5);case"k":return _t.rjust(""+Dt.hour(e),2," ");case"l":return n(Dt.hour12(e)," ");case"m":return n(Dt.month(e));case"M":return n(Dt.min(e));case"n":return"\n";case"N":return vt.throw_not_implemented();case"p":return Dt.hour(e)<12?r.AM:r.PM;case"P":return Dt.hour(e)<12?r.AM_LOW:r.PM_LOW;case"r":return Dt.strftime(e,"%I:%M:%S %p");case"R":return Dt.strftime(e,"%H:%M");case"S":return n(Dt.sec(e));case"s":return Math.floor(e.getTime()/1e3);case"t":return"	";case"T":return Dt.strftime(e,"%H:%M:%S");case"u":return s=Dt.wday(e),s===0?7:s;case"v":return Dt.strftime(e,"%e-%b-%Y");case"w":return Dt.wday(e);case"y":return _t.slice(Dt.year(e)+"",-2,2);case"Y":return Dt.year(e);case"x":return Dt.strftime(e,"%m/%d/%y");case"X":return Dt.strftime(e,"%H:%M:%S");case"z":return Dt._offset_str(e);case"Z":return Dt.zone(e);default:return i}}),i},e.prototype.asctime=function(e){return Dt.strftime(e,"%a %b %e %H:%M:%S %Y")},e.prototype.ctime=e.prototype.asctime,e.prototype.year=function(e){return e.getFullYear()},e.prototype.month=function(e){return e.getMonth()+1},e.prototype.mon=e.prototype.month,e.prototype.monday=function(e){return Dt.wday(e)===1},e.prototype.tuesday=function(e){return Dt.wday(e)===2},e.prototype.wednesday=function(e){return Dt.wday(e)===3},e.prototype.thursday=function(e){return Dt.wday(e)===4},e.prototype.friday=function(e){return Dt.wday(e)===5},e.prototype.saturday=function(e){return Dt.wday(e)===6},e.prototype.sunday=function(e){return Dt.wday(e)===0},e.prototype.day=function(e){return e.getDate()},e.prototype.mday=e.prototype.day,e.prototype.hour=function(e){return e.getHours()},e.prototype.hour12=function(e){return e.getHours()%12},e.prototype.min=function(e){return e.getMinutes()},e.prototype.sec=function(e){return e.getSeconds()},e.prototype.tv_usec=function(e){return e.valueOf()%1e3*1e3},e.prototype.usec=e.prototype.tv_usec,e.prototype.wday=function(e){return e.getDay()},e.prototype.yday=function(e){var t;return t=e.getTime(),Math.floor(t/864e5)},e.prototype.gmt_offset=function(e){return e.getTimezoneOffset()*-60},e.prototype._offset_str=function(e){var t,n,r,i;return r=Dt.gmt_offset(e),n=r/60,n===0?"+0000":(i=n>0?"+":"-",n=Math.abs(n),t=this._rjust(Math.ceil(n/60)),n=this._rjust(n%60),i+t+n)},e}(),Dt=R._time=function(e){return new R.Time(e)},R.extend(Dt,new E),m=function(){function e(e,t){this.value=e,this.type=t,this.chain=!1}return e.prototype.valueOf=function(){return this.value},e}(),R.Wrapper=m,A=function(e,t){var n;return e===null?function(){throw new TypeError("wrapper has null value")}:this.type?this.type:(typeof e=="object"&&(e=e.valueOf()),n=null,typeof e=="string"?n=_t:typeof e=="number"?n=Tt:st(e)?n=pt:n=yt,n[t])},x=function(e){return function(){var t,n,r;return n=this,(r=n.type)?(t=r[e],n.type=null):t=A(n.value,e),n.value=Q(t,n.value,arguments),n.chain?this:n.value}},L=[t,w,a,E];for(Et=0,xt=L.length;Et<xt;Et++){k=L[Et],Lt=k.prototype,gt=function(e,t){return m.prototype[e]=x(e)};for(M in Lt){if(!Pt.call(Lt,M))continue;C=Lt[M],gt(M,C)}}RubyJS.Object=function(){function e(){}return e.include=RubyJS.include,e.__add_default_aliases__=function(e){e["<<"]!=null&&(e.append=e["<<"]),e["==="]!=null&&(e.equal_case=e["==="]),e.minus!=null&&(e["-"]=e.minus),e.plus!=null&&(e["+"]=e.plus),e["%"]!=null&&(e.modulo=e["%"]),e["*"]!=null&&(e.multiply=e["*"]),e["**"]!=null&&(e.exp=e["**"]);if(e["/"]!=null)return e.divide=e["/"]},e.include(RubyJS.Kernel),e.prototype.send=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Bt.call(arguments,1):[],this[t](e)},e.prototype.respond_to=function(e){return this[e]!=null},e.prototype.to_enum=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Bt.call(arguments,1):[],t==null&&(t="each"),new RubyJS.Enumerator(this,t,e)},e.prototype.tap=function(e){return e(this),this},e.prototype.value=function(){return this.to_native.apply(this,arguments)},e}(),c=R._coerce={single_block_args:function(e,t){return t?t.length!==1?e.length>1?F.call(e):e[0]:e[0]:e.length!==1?F.call(e):e[0]},coerce:function(e,t,n){if(n!==void 0&&n===typeof e)return e;if(e===null||e===void 0)throw new R.TypeError["new"];e=R(e);if(e[t]==null)throw R.TypeError["new"]("TypeError: cant't convert ... into String");return n!==void 0?e[t]().to_native():e[t]()},to_native:function(e){return typeof e!="object"?e:e.valueOf()},to_num_native:function(e){if(typeof e=="number")return e;e=R(e);if(e.is_numeric==null)throw R.TypeError["new"]();return e.to_native()},to_int:function(e){return c.coerce(e,"to_int")},to_int_native:function(e){return typeof e=="number"&&e%1===0?e:c.coerce(e,"to_int").to_native()},to_str:function(e){return c.coerce(e,"to_str")},to_str_native:function(e){return c.coerce(e,"to_str","string")},to_ary:function(e){return this.coerce(e,"to_ary")},to_ary_native:function(e){return l.isNativeArray(e)?e:c.coerce(e,"to_ary").to_native()}},R.RCoerce=c,RubyJS.Comparable=function(){function e(){}return e.prototype.lt=function(e){var t;t=this.cmp(e);if(t===null)throw R.TypeError["new"]();return t<0},e.prototype.gt=function(e){var t;t=this.cmp(e);if(t===null)throw R.TypeError["new"]();return t>0},e.prototype.lteq=function(e){var t;t=this.cmp(e);if(t===null)throw R.TypeError["new"]();return t<=0},e.prototype.gteq=function(e){var t;t=this.cmp(e);if(t===null)throw R.TypeError["new"]();return t>=0},e.prototype.between=function(e,t){return this.gteq(e)&&this.lteq(t)},e.cmp=G,e.cmpstrict=Y,e.prototype.gteq=e.prototype.gteq,e}(),RubyJS.Enumerable=function(){function e(){}return e.prototype.all=function(e){return wt.all(this,e)},e.prototype.any=function(e){return wt.any(this,e)},e.prototype.collect_concat=function(e){return e==null&&(e=null),!e||e.call==null?this.to_enum("collect_concat"):new l(wt.collect_concat(this,e))},e.prototype.flat_map=e.prototype.collect_concat,e.prototype.count=function(e){return new R.Fixnum(wt.count(this,e))},e.prototype.cycle=function(e,t){if(arguments.length>2)throw R.ArgumentError["new"]();return(t!=null?t.call:void 0)==null&&(e!=null?e.call:void 0)==null?this.to_enum("cycle",e):wt.cycle(this,e,t)},e.prototype.drop=function(e){Z(arguments,1),e=c.to_int_native(e);if(e<0)throw R.ArgumentError["new"]();return new l(wt.drop(this,e))},e.prototype.drop_while=function(e){return!e||e.call==null?this.to_enum("drop_while"):new l(wt.drop_while(this,e))},e.prototype.each_cons=function(){var e,t,n;e=1<=arguments.length?Bt.call(arguments,0):[],t=nt(e);if(!t||t.call==null)return this.to_enum.apply(this,["each_cons"].concat(Bt.call(e)));Z(e,1),n=c.to_int_native(e[0]);if(n>0)return wt.each_cons(this,n,t);throw R.ArgumentError["new"]()},e.prototype.each_entry=function(e){if(arguments.length>1)throw R.ArgumentError["new"]();return!e||e.call==null?this.to_enum("each_entry"):wt.each_entry(this,e)},e.prototype.each_slice=function(e,t){if(!e)throw R.ArgumentError["new"]();e=c.to_int_native(e);if(e<=0)throw R.ArgumentError["new"]();if(t&&t.call==null)throw R.ArgumentError["new"]();return t===void 0?this.to_enum("each_slice",e):wt.each_slice(this,e,t)},e.prototype.each_with_index=function(e){return!e||e.call==null?this.to_enum("each_with_index"):wt.each_with_index(this,e)},e.prototype.each_with_object=function(e,t){return!t||t.call==null?this.to_enum("each_with_object",e):wt.each_with_object(this,e,t)},e.prototype.find=function(e,t){return t==null&&(t=null),wt.find(this,e,t)},e.prototype.detect=e.prototype.find,e.prototype.find_all=function(e){return!e||e.call==null?this.to_enum("find_all"):new l(wt.select(this,e))},e.prototype.select=e.prototype.find_all,e.prototype.find_index=function(e){var t;return arguments.length===0?this.to_enum("find_index"):(t=wt.find_index(this,e),t!==null?new R.Fixnum(t):t)},e.prototype.first=function(e){return e===null||e===void 0?wt.first(this,null):(e=c.to_int_native(e),new l(wt.first(this,e)))},e.prototype.include=function(e){return wt.include(this,e)},e.prototype.inject=function(e,t,n){return wt.inject(this,e,t,n)},e.prototype.iterator=function(){return this.each()},e.prototype.grep=function(e,t){return new l(wt.grep(this,e,t))},e.prototype.group_by=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("group_by"):wt.group_by(this,e)},e.prototype.map=function(e){var t,n;return(e!=null?e.call:void 0)==null?this.to_enum("map"):(n=R.blockify(e,this),t=[],this.each(function(){return t.push(n.invoke(arguments))}),new l(t))},e.prototype.collect=e.prototype.map,e.prototype.member=e.prototype.include,e.prototype.max=function(e){return wt.max(this,e)},e.prototype.max_by=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("max_by"):wt.max_by(this,e)},e.prototype.min=function(e){return wt.min(this,e)},e.prototype.min_by=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("min_by"):wt.min_by(this,e)},e.prototype.minmax=function(e){return new l(wt.minmax(this,e))},e.prototype.minmax_by=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("minmax_by"):new l(wt.minmax_by(this,e))},e.prototype.none=function(e){return wt.none(this,e)},e.prototype.one=function(e){return wt.one(this,e)},e.prototype.partition=function(e){var t;return!e||e.call==null?this.to_enum("partition"):(t=wt.partition(this,e),new l([t[0],t[1]]))},e.prototype.reduce=e.prototype.inject,e.prototype.reject=function(e){return!e||e.call==null?this.to_enum("reject"):new l(wt.reject(this,e))},e.prototype.reverse_each=function(e){return!e||e.call==null?this.to_enum("reverse_each"):wt.reverse_each(this,e)},e.prototype.slice_before=function(){var e,t,n,r,i;return t=1<=arguments.length?Bt.call(arguments,0):[],n=nt(t),e=R(t[0]),n?r=e!==void 0:n=function(t){return e["==="](t)},i=this,R.Enumerator.create(function(t){var s;s=null,i.each(function(i){var o;return o=r?n(i,e.dup()):n(i),o?(s&&t.yield(s),s=R([i])):(s||(s=new l([])),s.append(i))});if(s)return t.yield(s)})},e.prototype.sort=function(e){return new l(wt.sort(this,e))},e.prototype.sort_by=function(e){return!e||e.call==null?this.to_enum("sort_by"):new l(wt.sort_by(this,e))},e.prototype.take=function(e){Z(arguments,1),e=c.to_int_native(e);if(e<0)throw R.ArgumentError["new"]();return new l(wt.take(this,e))},e.prototype.take_while=function(e){return!e||e.call==null?this.to_enum("take_while"):new l(wt.take_while(this,e))},e.prototype.to_a=function(){return new l(wt.to_a(this))},e.prototype.to_enum=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Bt.call(arguments,1):[],t==null&&(t="each"),new R.Enumerator(this,t,e)},e.prototype.entries=e.prototype.to_a,e.prototype.zip=function(){var e,t,n,r,i;return r=1<=arguments.length?Bt.call(arguments,0):[],e=nt(r),r=function(){var e,t,i;i=[];for(e=0,t=r.length;e<t;e++)n=r[e],st(n)?i.push(n.valueOf()):i.push(n);return i}(),i=[],t=0,this.each(function(n){var s,o,u,a;s=[n];for(u=0,a=r.length;u<a;u++)o=r[u],n=st(o)?o[t]:o,n===void 0&&(n=null),s.push(n);return e&&e(s),i.push(s),t+=1}),e?null:new l(i)},e.prototype.collectConcat=e.prototype.collect_concat,e.prototype.dropWhile=e.prototype.drop_while,e.prototype.eachCons=e.prototype.each_cons,e.prototype.eachEntry=e.prototype.each_entry,e.prototype.eachSlice=e.prototype.each_slice,e.prototype.eachWithIndex=e.prototype.each_with_index,e.prototype.eachWithObject=e.prototype.each_with_object,e.prototype.findAll=e.prototype.find_all,e.prototype.findIndex=e.prototype.find_index,e.prototype.flatMap=e.prototype.flat_map,e.prototype.groupBy=e.prototype.group_by,e.prototype.maxBy=e.prototype.max_by,e.prototype.minBy=e.prototype.min_by,e.prototype.minmaxBy=e.prototype.minmax_by,e.prototype.reverseEach=e.prototype.reverse_each,e.prototype.sliceBefore=e.prototype.slice_before,e.prototype.sortBy=e.prototype.sort_by,e.prototype.takeWhile=e.prototype.take_while,e.prototype.toA=e.prototype.to_a,e}(),RubyJS.Enumerable.SortedElement=function(){function e(e,t){this.value=e,this.sort_by=t}return e.prototype.cmp=function(e){var t;return(t=this.sort_by)!=null?t.cmp(e.sort_by):void 0},e}(),h=RubyJS.Enumerable,RubyJS.Enumerator=function(e){function t(e,t,n){this.object=e,this.iter=t!=null?t:"each",this.args=n!=null?n:[],this.generator=null,this.length=this.object.length,this.idx=0}return Ht(t,e),t.include(RubyJS.Enumerable),t["new"]=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?Bt.call(arguments,2):[],new RubyJS.Enumerator(n,t,e)},t.create=function(){var e,n,r,i;e=1<=arguments.length?Bt.call(arguments,0):[];if(n=nt(e))return i=new RubyJS.Enumerator.Generator(n),r="each",t["new"](i,r)},t.prototype.is_enumerator=function(){return!0},t.prototype.each=function(e){var t;return(t=this.object)[this.iter].apply(t,Bt.call(this.args).concat([e]))},t.prototype.each_with_index=function(e){var t,n;return!e||e.call==null?this.to_enum("each_with_index"):(t=R.blockify(e,this),n=0,this.each(function(){var e,r;return e=i.prototype.args(arguments),r=t.invokeSplat(e,n),n+=1,r}))},t.prototype.size=function(){return this.object.length},t.prototype.iterator=function(){return this.valueOf()},t.prototype.next=function(){var e;return e=this.idx,this.idx+=1,this.valueOf()[e]},t.prototype.to_a=function(){return new l(this.valueOf())},t.prototype.to_enum=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Bt.call(arguments,1):[],t==null&&(t="each"),new RubyJS.Enumerator(this,t,e)},t.prototype.valueOf=function(){return wt.to_a(this)},t.prototype.eachWithIndex=t.prototype.each_with_index,t}(RubyJS.Object),RubyJS.Enumerator.Yielder=function(e){function t(e){this.proc=e;if(this.proc.call==null)throw"LocalJumpError"}return Ht(t,e),t.prototype.yield=function(){return this.proc.apply(this,arguments)},t.prototype["<<"]=function(e){return this.yield(e),this},t}(RubyJS.Object),RubyJS.Enumerator.Generator=function(e){function t(e){this.proc=e;if(this.proc.call==null)throw"LocalJumpError"}return Ht(t,e),t.prototype.each=function(e){var t;return t=function(){return e.apply(this,arguments)},this.proc(new RubyJS.Enumerator.Yielder(t))},t}(RubyJS.Object),RubyJS.Array=function(e){function t(e,t){var n,r;this.__native__=e!=null?e:[];if(t===!0){n=-1,r=this.__native__.length;while(++n<r)this.__native__[n]=R(this.__native__[n],t)}}return Ht(t,e),t.include(R.Enumerable),t.prototype.is_array=function(){return!0},t.prototype.iterator=function(){return this.__native__},t["new"]=function(){var e,t,n,r,i,s;e=1<=arguments.length?Bt.call(arguments,0):[],n=nt(e);if(e.length>=3)throw R.ArgumentError["new"]();s=e[0],i=e[1];if(s===void 0)return new R.Array([]);if(i===void 0||!this.isNativeArray(s)&&s.is_array==null){if(this.isNativeArray(s))return new R.Array(s);if(s.to_ary!=null&&i===void 0)return s.to_ary();s=c.to_int_native(s);if(s<0)throw R.ArgumentError["new"]();i===void 0&&(i=null),t=[],r=-1;while(++r<s)t[r]=n?n(r):i;return new R.Array(t)}throw R.TypeError["new"]()},t.typecast=function(e,t){return new R.Array(e,t)},t.isNativeArray=_.isArray||function(e){return W.call(e)==="[object Array]"},t.try_convert=function(e){return e.is_array!=null?e:this.isNativeArray(e)?this["new"](e):e.to_ary!=null?e.to_ary():null},t.prototype.valueOf=function(e){return e?this.to_native(!0):this.__native__},t.prototype.to_native=function(e){var t,n,r,i,s;e==null&&(e=!1);if(e){s=this.__iter_vars__(),r=s[0],i=s[1],t=s[2];while(++r<i)n=this.__native__[r],n&&n.to_native!=null&&(n=n.to_native(!0)),t[r]=n;return t}return this.__native__.slice(0)},t.prototype.unbox=t.prototype.to_native,t.prototype.to_native_clone=function(){return this.__native__.slice(0)},t.prototype.__iter_vars__=function(e){var t;return t=this.__native__.length,e?[-1,t]:[-1,t,_(t)]},t.prototype.equals=function(e){return e=R(e),e.is_array==null?e.to_ary==null?!1:e.equals(this):pt.equals(this.__native__,e.__native__)},t.prototype["<<"]=function(e){return this.__native__.push(e),this},t.prototype["&"]=function(e){var t;return e=c.to_ary(e),t=new R.Array([]),this.each(function(n){if(e.include(n))return t.push(n)}),t.uniq()},t.prototype.cmp=function(e){var t,n,r,i,s;if(e==null)return null;try{e=c.to_ary(e)}catch(o){return n=o,null}if(this.equals(e))return 0;i=e.size(),r=0,s=i.lt(this.size())?i:this.size();while(s.gt(r)){t=R(this.__native__[r]).cmp(e.__native__[r]);if(t!==0)return t;r+=1}return this.size().cmp(i)},t.prototype.at=function(e){return e=c.to_int_native(e),pt.at(this.__native__,e)},t.prototype.clear=function(){return Z(arguments,0),this.__native__.length=0,this.replace(this.__native__),this},t.prototype.clone=function(){return this.dup()},t.prototype.collect_bang=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("collect_bang"):this.replace(pt.collect(this.__native__,e))},t.prototype.combination=function(e,t){return t==null?this.to_enum("combination",e):(pt.combination(this.__native__,e,t),this)},t.prototype.compact=function(){return new l(pt.compact(this.__native__))},t.prototype.compact_bang=function(){var e,t;return t=this.__native__.length,e=pt.compact(this.__native__),this.replace(e),t===e.length?null:this},t.prototype.concat=function(e){return e=c.to_ary_native(e),this.replace(this.__native__.concat(e))},t.prototype["delete"]=function(){var e,t;return e=1<=arguments.length?Bt.call(arguments,0):[],t=nt(e),pt["delete"](this.__native__,e[0],t)},t.prototype.delete_at=function(e){return e=c.to_int_native(e),pt.delete_at(this.__native__,e)},t.prototype.delete_if=function(e){return this.replace(this.reject(e))},t.prototype.dup=function(){return new RubyJS.Array(this.__native__.slice(0))},t.prototype.eql=function(e){var t;return this.equals(e)?!0:(e=R(e),e.is_array==null?!1:this.size().equals(e.size())?(t=e.to_native(),this.catch_break(function(e){var n;return n=0,this.each(function(r){return R(r).eql(t[n])||e["break"](!1),n+=1}),!0})):!1)},t.prototype.each_index=function(e){return e==null?this.to_enum("each_index"):(pt.each_index(this.__native__,e),this)},t.prototype.each=function(e){return(e!=null?e.call:void 0)==null?this.to_enum():(pt.each(this.__native__,e),this)},t.prototype.get=function(e,t){return this.slice(e,t)},t.prototype.set=function(e,t){return e.is_range!=null?this.set$range(e,t):arguments.length===3?this.set$int$int.apply(this,arguments):(e=c.to_int_native(e),this.__native__[e]=t,t)},t.prototype.set$range=function(e,t){throw R.NotImplementedError["new"]()},t.prototype.set$int$int=function(e,t,n){throw R.NotImplementedError["new"]()},t.prototype.empty=function(){return this.__native__.length===0},t.prototype.fetch=function(e,t){return pt.fetch(this.__native__,e,t)},t.prototype.fill=function(){var e,t;e=1<=arguments.length?Bt.call(arguments,0):[];if(e.length===0)throw R.ArgumentError["new"]();t=nt(e);if(t){if(e.length>=3)throw R.ArgumentError["new"]();pt.fill(this.__native__,e[0],e[1],t)}else{if(e.length>3)throw R.ArgumentError["new"]();pt.fill(this.__native__,e[0],e[1],e[2])}return this},t.prototype.flatten=function(e){return e==null&&(e=-1),new l(pt.flatten(this.__native__,e))},t.prototype.insert=function(e){var t;if(e===void 0)throw R.ArgumentError["new"]();return arguments.length===0?this:(t=Q(pt.insert,this.__native__,arguments),this)},t.prototype.inspect=function(){return R("["+this.map(function(e){return R.inspect(e)}).join(", ")+"]")},t.prototype.join=function(e){return e!=null&&(e=c.to_str_native(e)),new v(pt.join(this.__native__,e))},t.prototype.keep_if=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("keep_if"):(t=pt.keep_if(this.__native__,e),this.__native__.length===t.length?this:this.replace(t))},t.prototype.minus=function(e){return new l(pt.minus(this.__native__,e))},t.prototype.multiply=function(e){return Z(arguments,1),R(pt.multiply(this.__native__,e))},t.prototype.last=function(e){return this.__native__.length<1?e===void 0?null:new R.Array([]):e===void 0?this.at(-1):(e=c.to_int_native(e),new R.Array(_a.last(this.__native__,e)))},t.prototype.permutation=function(){var e;throw e=1<=arguments.length?Bt.call(arguments,0):[],R.NotImplementedError["new"]()},t.prototype.plus=function(e){return this.concat(e)},t.prototype.pop=function(e){if(arguments.length>1)throw R.ArgumentError["new"]();return e===void 0?pt.pop(this.__native__):new l(pt.pop(this.__native__,e))},t.prototype.product=function(){var e;return e=Q(pt.product,this.__native__,arguments),e===this.__native__?this:new l(e)},t.prototype.push=function(){return Q(pt.push,this.__native__,arguments),this},t.prototype.rassoc=function(e){return pt.rassoc(this.__native__,e)},t.prototype.rindex=function(e){var t;return e===void 0?this.to_enum("rindex"):(t=pt.rindex(this.__native__,e),t===null?null:new R.Fixnum(t))},t.prototype.sample=function(e,t){var n;return t==null&&(t=void 0),n=pt.sample(this.__native__,e,t),e===void 0?n:new l(n)},t.prototype.reject_bang=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("reject_bang"):(t=this.reject(e),t.__size__()===this.__size__()?null:this.replace(t))},t.prototype.replace=function(e){return Z(arguments,1),this.__native__=e.to_ary!=null?e.to_ary().to_native().slice(0):e.slice(0),this},t.prototype.reverse=function(){return this.dup().tap(function(e){return e.reverse_bang()})},t.prototype.reverse_bang=function(){return this.replace(this.__native__.reverse()),this},t.prototype.reverse_each=function(e){return!e||e.call==null?this.to_enum("reverse_each"):(pt.reverse_each(this.__native__,e),this)},t.prototype.rotate=function(e){return new l(pt.rotate(this.__native__,e))},t.prototype.rotate_bang=function(e){return e===0||e===1?this:this.replace(pt.rotate(this.__native__,e))},t.prototype.select_bang=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("select_bang"):(t=this.select(e),t.__size__()===this.__size__()?null:this.replace(t))},t.prototype.shift=function(e){var t,n;if(arguments.length>1)throw R.ArgumentError
["new"]();if(e===void 0)return t=this.__native__[0],this.replace(this.__native__.slice(1)),t;e=c.to_int_native(e);if(e<0)throw R.ArgumentError["new"]();return n=this.first(e),this.replace(this.__native__.slice(e)),n},t.prototype.shuffle=function(){return this.dup().tap(function(e){return e.shuffle_bang()})},t.prototype.shuffle_bang=function(){return this.replace(pt.shuffle(this.__native__))},t.prototype.size=function(){return R(this.__native__.length)},t.prototype.__size__=function(){return this.__native__.length},t.prototype.slice=function(e,t){var n;if(e===null)throw new R.TypeError["new"];return n=pt.slice(this.__native__,e,t),n===null?null:(e!=null?e.is_range:void 0)!=null?new l(n):t===void 0?n:new l(n)},t.prototype.slice_bang=function(e,t){var n,r,i,s,o,u;if(e===null)throw new R.TypeError["new"];n=null,u=this.__size__();if(e.is_range!=null)r=e,n=this.slice(r),o=c.to_int_native(r.begin()),i=c.to_int_native(r.end()),o<0&&(o+=u),i<0?i+=u:i>=u&&i>=u,s=i-o,r.exclude_end()||(s+=1),o<u&&o>=0&&i<=u&&i>=0&&s>0&&this.__delete_range(o,s);else if(t!==void 0){e=c.to_int_native(e),t=c.to_int_native(t);if(e>u)return null;if(t===0)return new R.Array([]);n=this.slice(e,t),this.__delete_range(e,t)}else e=c.to_int_native(e),n=this.delete_at(e);return n},t.prototype.__delete_range=function(e,t){var n,r;r=this.__size__();if(e>r||e<0)return null;r<e+t?n=new R.Array([]):n=this.slice(0,e).concat(this.slice(e+t,r)||[]);if(n.__size__()!==this.__size__())return this.replace(n)},t.prototype.sort_bang=function(e){return this.replace(this.sort(e))},t.prototype.sort_by_bang=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("sort_by_bang"):this.replace(this.sort_by(e))},t.prototype.transpose=function(){return new l(pt.transpose(this.__native__))},t.prototype.uniq=function(){var e;return e=new R.Array([]),this.each(function(t){if(!e.include(t))return e.push(t)}),e},t.prototype.uniq_bang=function(e){var t;return t=this.uniq(),t.__size__()===this.__size__()?null:this.replace(t)},t.prototype.unshift=function(){return this.replace(Q(pt.unshift,this.__native__,arguments))},t.prototype.union=function(e){return new l(pt.union(this.__native__,e))},t.prototype.to_a=function(){return this.dup()},t.prototype.to_enum=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Bt.call(arguments,1):[],t==null&&(t="each"),new R.Enumerator(this,t,e)},t.prototype.to_ary=function(){return this},t.prototype.values_at=function(){var e;return e=1<=arguments.length?Bt.call(arguments,0):[],new l(Q(pt.values_at,this.__native__,e))},t.__add_default_aliases__(t.prototype),t.prototype.map_bang=t.prototype.collect_bang,t.prototype.index=t.prototype.find_index,t.prototype.each_for=t.prototype.each,t.prototype["|"]=t.prototype.union,t.prototype.to_s=t.prototype.inspect,t.prototype.intersection=t.prototype["&"],t.prototype.deleteAt=t.prototype.delete_at,t.prototype.deleteIf=t.prototype.delete_if,t.prototype.dropWhile=t.prototype.drop_while,t.prototype.eachIndex=t.prototype.each_index,t.prototype.equalValue=t.prototype.equal_value,t.prototype.findIndex=t.prototype.find_index,t.prototype.intersection=t.prototype.intersection,t.prototype.keepIf=t.prototype.keep_if,t.prototype.reverse_each=t.prototype.reverse_each,t.prototype.sortBy=t.prototype.sort_by,t.prototype.takeWhile=t.prototype.take_while,t.prototype.toA=t.prototype.to_a,t.prototype.toAry=t.prototype.to_ary,t.prototype.toS=t.prototype.to_s,t.prototype.tryConvert=t.prototype.try_convert,t.prototype.valuesAt=t.prototype.values_at,t}(RubyJS.Object),l=R.Array=RubyJS.Array,RubyJS.Hash=function(e){function t(e,t){this.__native__=e,this.__default__=t}return Ht(t,e),t.include(R.Enumerable),t["new"]=function(){return new R.Hash},t.prototype.assoc=function(e){var t;return t=yt.assoc(this.__native__,e),t===null?null:new l(t)},t.prototype.clear=function(){return this.__native__={},this},t.prototype["default"]=function(e){if(!this.__default__)return null;if(this.__default__.call==null)return this.__default__;if(e!==void 0)return this.__default__(this,e)},t.prototype.default_proc=function(){var e;return((e=this.__default__)!=null?e.call:void 0)!=null?this.__default__:null},t.prototype["delete"]=function(e,t){return yt["delete"](this.__native__,e,t)},t.prototype.delete_if=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("delete_if"):(yt.delete_if(this.__native__,e),this)},t.prototype.each=function(e){return e==null?this.to_enum("each"):(yt.each(this.__native__,e),this)},t.prototype.each_pair=t.prototype.each,t.prototype.each_key=function(e){return e==null?this.to_enum("each_key"):(yt.each_key(this.__native__,e),this)},t.prototype.each_value=function(e){return e==null?this.to_enum("each_value"):(yt.each_value(this.__native__,e),this)},t.prototype.empty=function(){return yt.empty(this.__native__)},t.prototype.eql=function(e){var t,n,r;e=(typeof e.to_native=="function"?e.to_native():void 0)||e,r=this.__native__;for(t in r){if(!Pt.call(r,t))continue;n=r[t];if(!(t in e))return!1;if(!R.is_eql(e[t],n))return!1}return!0},t.prototype.fetch=function(e,t){return Q(yt.fetch,this.__native__,arguments)},t.prototype.flatten=function(e){return e==null&&(e=1),new l(yt.flatten(this.__native__,e))},t.prototype.get=function(e){return this.__default__!=null&&!this.has_key(e)?this["default"](e):this.__native__[e]},t.prototype.has_value=function(e){return yt.has_value(this.__native__,e)},t.prototype.has_key=function(e){return yt.has_key(this.__native__,e)},t.prototype.include=t.prototype.has_key,t.prototype.member=t.prototype.has_key,t.prototype.keep_if=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("keep_if"):(yt.keep_if(this.__native__,e),this)},t.prototype.key=function(e){return yt.key(this.__native__,e)},t.prototype.index=t.prototype.key,t.prototype.invert=function(){return new R.Hash(yt.invert(this.__native__))},t.prototype.keys=function(){return new R.Array(yt.keys(this.__native__))},t.prototype.merge=function(e,t){return new R.Hash(yt.merge(this.__native__,e,t))},t.prototype.merge_bang=function(e,t){return yt.merge$(this.__native__,e,t),this},t.prototype.rassoc=function(e){var t;return t=yt.rassoc(this.__native__,e),t===null?null:new l(t)},t.prototype.reject=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("reject"):new R.Hash(yt.reject(this.__native__,e))},t.prototype.reject_bang=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("reject_bang"):(t=yt.reject$(this.__native__,e),changed===null?null:this)},t.prototype.select=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("select"):(t=yt.select(this.__native__,e),new R.Hash(t))},t.prototype.select_bang=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("select_bang"):(t=yt.select$(this.__native__,e),t===null?null:this)},t.prototype.set=function(e,t){return this.__native__[e]=t},t.prototype.sort=function(e){return new l(yt.sort(this.__native__,e))},t.prototype.store=t.prototype.set,t.prototype.size=function(){return new R.Fixnum(yt.size(this.__native__))},t.prototype.to_a=function(){return new R.Array(yt.to_a(this.__native__))},t.prototype.to_hash=function(){return this},t.prototype.to_h=t.prototype.to_hash,t.prototype.to_native=function(){return this.__native__},t.prototype.update=t.prototype.merge_bang,t.prototype.values=function(){return new l(yt.values(this.__native__))},t.prototype.values_at=function(){var e;return e=Q(yt.values_at,this.__native__,arguments),new l(e)},t.prototype.valueOf=function(){return this.__native__},t}(RubyJS.Object),d=R.Hash,R.hashify=function(e,t){return new R.Hash(e,t)},R.h=R.hashify,RubyJS.Range=function(e){function t(e,t,n){var r;this.exclusive=n!=null?n:!1,this.__start__=this.box(e),this.__end__=this.box(t);if(this.__start__.is_fixnum==null||this.__end__.is_fixnum==null)try{if(this.__start__.cmp(this.__end__)===null)throw R.ArgumentError["new"]()}catch(i){throw r=i,R.ArgumentError["new"]()}this.comparison=this.exclusive?"lt":"lteq"}return Ht(t,e),t.include(R.Enumerable),t["new"]=function(e,t,n){return n==null&&(n=!1),new R.Range(e,t,n)},t.prototype.is_range=function(){return!0},t.prototype.iterator=function(){var e;return e=[],this.each(function(t){return e.push(t)}),e},t.prototype.equals=function(e){return e instanceof R.Range?this.__end__.equals(e.end())&&this.__start__.equals(e.start())&&this.exclusive===e.exclude_end():!1},t.prototype.begin=function(e){return this.__start__},t.prototype.cover=function(e){if(arguments.length!==1)throw R.ArgumentError["new"]();return e=e,e===null?!1:this.equal_case(e)},t.prototype["==="]=function(e){var t,n;return e=R(e),n=e.cmp(this.__start__),t=e.cmp(this.__end__),n===null&&t===null?!1:(n=-n,t=-t,n<=0&&(this.exclusive?t>0:t>=0))},t.prototype.each=function(e){var t;if(!e||e.call==null)return this.to_enum("each");if(this.begin().succ==null)throw R.TypeError["new"]("can't iterate from "+this.begin());t=this.__start__.dup();while(t[this.comparison](this.__end__))e(t.valueOf()),t=t.succ();return this},t.prototype.end=function(){return this.__end__},t.prototype.exclude_end=function(){return this.exclusive},t.prototype.first=function(e){return this.begin()},t.prototype.inspect=function(){var e;return e=this.exclude_end()?"...":"..",""+this.start().inspect()+e+this.end().inspect()},t.prototype.min=function(e){var t,n;return(e!=null?e.call:void 0)!=null?R.Enumerable.prototype.min.call(this,e):(t=this.begin(),n=this.end(),n.lt(t)||this.exclusive&&n.equals(t)?null:t.is_float!=null?t.valueOf():R.Enumerable.prototype.min.call(this))},t.prototype.max=function(e){var t,n;return(e!=null?e.call:void 0)!=null?R.Enumerable.prototype.max.call(this,e):(t=this.begin(),n=this.end(),n.lt(t)||this.exclusive&&n.equals(t)?null:n.is_float!=null||n.is_float!=null&&!this.exclusive?n.valueOf():R.Enumerable.prototype.max.call(this))},t.prototype.start=function(){return this.__start__},t.prototype.step=function(e,t){var n,r,i,s;e==null&&(e=1),arguments.length===1&&e.call!=null&&(t=e,e=1);if(!t||t.call==null)return this.to_enum("step",e);e=R(e),i=this.begin(),s=this.end(),(e!=null?e.is_float:void 0)!=null||i.is_float!=null||s.is_float!=null?(e=e.to_f(),i=i.to_f(),s=s.to_f()):e=c.to_int_native(e);if(e<=0)throw e<0?R.ArgumentError["new"]():R.ArgumentError["new"]();r=i,n=this.exclude_end()?"lt":"lteq";if(i.is_float!=null)while(r[n](s))t(r.valueOf()),r=r.plus(e);else if(i.is_fixnum!=null)while(r[n](s))t(r.valueOf()),r=r.plus(e);else r=0,this.each(function(n){return r%e===0&&t(n),r+=1});return this},t.prototype.to_a=function(){if(this.__end__.is_float!=null&&this.__start__.is_float!=null)throw R.TypeError["new"]();return R.Enumerable.prototype.to_a.apply(this)},t.prototype.to_s=t.prototype.inspect,t.__add_default_aliases__(t.prototype),t.prototype.eql=t.prototype.equals,t.prototype.include=t.prototype["==="],t.prototype.last=t.prototype.end,t.prototype.member=t.prototype.include,t.prototype.excludeEnd=t.prototype.exclude_end,t}(RubyJS.Object),RubyJS.MatchData=function(e){function t(e,t){var n,r,i,s,o;this.__native__=e,t==null&&(t={}),o=this.__native__;for(n=i=0,s=o.length;i<s;n=++i)r=o[n],this[n]=r;this.__offset__=t.offset||0,this.__source__=t.string,this.__regexp__=t.regexp}return Ht(t,e),t.prototype.is_match_data=function(){return!0},t.prototype.equals=function(e){return e.is_match_data==null?!1:this.regexp().equals(e.regexp())&&this.string().equals(e.string())&&this.__offset__===e.__offset__},t.prototype.begin=function(e){return Z(1),R(this.__source__.slice(this.__offset__).indexOf(this.__native__[e])+this.__offset__)},t.prototype.captures=function(){return R(this.__native__.slice(1))},t.prototype.end=function(e){return Z(1),R(this.__source__.slice(this.__offset__).indexOf(this.__native__[e])+this.__offset__+this.__native__[e].length)},t.prototype.eql=function(e){return this.equals(e)},t.prototype.get=function(){var e,t;return e=1<=arguments.length?Bt.call(arguments,0):[],t=this.to_a(),t.get.apply(t,arguments)},t.prototype.inspect=function(){var e;return e=R(['"'+this[0]+'"']),e.concat(this.captures().each_with_index().map(function(e,t){return""+(t+1)+':"'+e+'"'})),new R.String("#<MatchData "+e.join(" ")+">")},t.prototype.length=function(){return R(this.__native__.length)},t.prototype.offset=function(e){var t;return t=this.begin(e),R([t.to_native(),t+this.__native__[e].length])},t.prototype.post_match=function(){return this.__source__.slice(this.end(0))},t.prototype.pre_match=function(){return this.__source__.slice(0,this.begin(0))},t.prototype.regexp=function(){return R(this.__regexp__)},t.prototype.size=function(){return this.length()},t.prototype.string=function(){return R(this.__source__)},t.prototype.to_a=function(){return R(this.__native__)},t.prototype.to_s=function(){return R(this.__native__[0])},t.prototype.values_at=function(){var e,t;return t=1<=arguments.length?Bt.call(arguments,0):[],e=this.to_a(),e.values_at.apply(e,t)},t.prototype.names=function(){throw R.NotSupportedError["new"]()},t.prototype.postMatch=t.prototype.post_match,t.prototype.preMatch=t.prototype.pre_match,t.prototype.valuesAt=t.prototype.values_at,t}(RubyJS.Object),z=$.String,RubyJS.String=function(e){function t(e){e==null&&(e=""),typeof e!="string"&&(e=e.valueOf()),this.replace(e)}return Ht(t,e),t.include(R.Comparable),t.fromCharCode=function(e){return z.fromCharCode(e)},t["new"]=function(e){return e==null&&(e=""),new R.String(e)},t.isString=function(e){return e==null?!1:typeof e=="string"?!0:typeof e!="object"?!1:e.is_string!=null?!0:W.call(e)==="[object String]"},t.try_convert=function(e){if(!this.isString(e)&&e.to_str==null)return null;if(e.to_str!=null){e=e.to_str();if(e===null||e===void 0)return null;if(e.is_string==null)throw R.TypeError["new"]();return e}return this["new"](e)},t.prototype.is_string=function(){return!0},t.prototype.to_native=function(){return this.__native__},t.prototype.valueOf=function(){return this.__native__},t.prototype.toString=function(){return this.to_native()},t.prototype.unbox=function(){return this.__native__},t.prototype.initialize_copy=function(){},t.prototype.clone=function(){return new this.constructor(this.to_native()+"")},t.prototype["%"]=function(e){throw R.NotImplementedError["new"]()},t.prototype["*"]=function(e){return e=c.to_int_native(e),new v(_t.multiply(this.__native__,e))},t.prototype.plus=function(e){return e=c.to_str_native(e),new R.String(this.to_native()+e)},t.prototype.cmp=function(e){return e=R(e),e.to_str==null?null:e.cmp==null?null:e.is_string!=null?(e=e.to_native(),this.to_native()===e?0:this.to_native()<e?-1:1):-e.cmp(this)},t.prototype.equals=function(e){return e.is_string!=null?this.to_native()===e.to_native():t.isString(e)?this.to_native()===e:e.to_str!=null?e.equals(this.to_native()):!1},t.prototype["<<"]=function(e){e=this.box(e);if(e.is_integer!=null){if(e.lt(0))throw new Error("RangeError");e=e.chr()}if((e!=null?e.to_str:void 0)==null)throw R.TypeError["new"]();return this.replace(this.to_native()+e.to_str().to_native())},t.prototype["=~"]=function(e,t,n){if(R(e).is_string!=null)throw R.TypeError["new"]();return this.match(e,t,n)},t.prototype.capitalize=function(){return new v(_t.capitalize(this.__native__))},t.prototype.capitalize_bang=function(){var e;return e=_t.capitalize(this.__native__),this.__native__===e?null:this.replace(e)},t.prototype.casecmp=function(e){var t;e=typeof (t=R(e)).to_str=="function"?t.to_str():void 0;if(!e)throw R.TypeError["new"]();return this.downcase().cmp(e.downcase())},t.prototype.center=function(e,t){return t==null&&(t=" "),e=c.to_int_native(e),t=c.to_str_native(t),new v(_t.center(this.__native__,e,t))},t.prototype.chars=function(e){return!e||e.call==null?this.to_enum("chars"):(_t.chars(this.__native__,e),this)},t.prototype.chomp=function(e){return e==null&&(e=null),e===null?this:new v(_t.chomp(this.__native__,e))},t.prototype.chomp_bang=function(e){var t;return e==null&&(e=null),(t=_t.chomp(this.__native__,e))?this.replace(t):null},t.prototype.chop=function(){return new v(_t.chop(this.__native__))},t.prototype.chr=function(){return new v(this.__native__[0]||"")},t.prototype.clear=function(){return this.replace("")},t.prototype.count=function(){var e;return e=Q(_t.count,this.__native__,arguments),new R.Fixnum(e)},t.prototype["delete"]=function(){var e;return e=arguments,this.dup().tap(function(t){return t.delete_bang.apply(t,e)})},t.prototype.delete_bang=function(){var e,t,n,r,i,s;e=[this.__native__];for(n=i=0,s=arguments.length;i<s;n=++i)t=arguments[n],e[n+1]=c.to_str_native(t);return r=_t["delete"].apply(null,e),this.__native__===r?null:this.replace(r)},t.prototype.downcase=function(){return new v(_t.downcase(this.__native__))},t.prototype.downcase_bang=function(){return this.__native__.match(/[A-Z]/)?this.replace(_t.downcase(this.__native__)):null},t.prototype.dump=function(){return new v(_t.dump(this.__native__))},t.prototype.dup=function(){var e;return e=this.clone(),e.initialize_copy(this),e},t.prototype.each_char=t.prototype.chars,t.prototype.each_line=function(){var e,t,n,r,i,s,o,u;e=1<=arguments.length?Bt.call(arguments,0):[],t=nt(e);if(!t||t.call==null)return this.to_enum("lines",e[0]);if(e[0]===null){t(this);return}o=R(e[0]===void 0?R["$/"]:e[0]);if(o.to_str==null)throw R.TypeError["new"]();o=o.to_str(),o.length===0&&(o="\n\n"),r=0,s=null,n=this.dup();while(s=n.index(o,r))s=s.succ(),u=n.slice(r,s.minus(r)),r=s,t(u.valueOf());return(i=n.to_native().slice(r.to_native()))&&i.length!==0&&t(i),this},t.prototype.empty=function(){return _t.empty(this.__native__)},t.prototype.end_with=function(){return Q(_t.end_with,this.__native__,arguments)},t.prototype.eql=function(e){return this.cmp(e)===0},t.prototype.get=function(){return this.slice.apply(this,arguments)},t.prototype.set=function(e,t){var n,r;e=R(e),t=c.to_str(t),r=null;if(e.to_int!=null){r=e.to_int().to_native(),r<0&&(r+=this.length);if(r<0||r>this.length)throw R.IndexError["new"]()}else if(e.to_str!=null){r=this.index(e);if(!r)throw R.IndexError["new"]()}return n=this.to_native().split(""),n[r]=t,this.replace(n.join("")),t},t.prototype.gsub=function(e,t){var n;if(e===null)throw R.TypeError["new"]();return t=c.to_str_native(t),n=_t.gsub(this.__native__,e,t),new v(n)},t.prototype.include=function(e){return e=c.to_str_native(e),_t.include(this.__native__,e)},t.prototype.index=function(e,t){var n;return n=_t.index(this.__native__,e,t),n===null?null:new R.Fixnum(n)},t.prototype.insert=function(e,t){return e=c.to_int_native(e),t=c.to_str_native(t),this.replace(_t.insert(this.__native__,e,t))},t.prototype.inspect=function(){return this.dump()},t.prototype.lines=t.prototype.each_line,t.prototype.ljust=function(e,t){return t==null&&(t=" "),e=c.to_int_native(e),t=c.to_str_native(t),new v(_t.ljust(this.__native__,e,t))},t.prototype.lstrip=function(){return new v(_t.lstrip(this.__native__))},t.prototype.lstrip_bang=function(){return this.to_native().match(/^[\s\n\t]+/)?this.replace(_t.lstrip(this.__native__)):null},t.prototype.match=function(e,t,n){return _t.match(this.__native__,e,t,n)},t.prototype.partition=function(e){return e=c.to_str_native(e),new l(_t.partition(this.__native__,e))},t.prototype.prepend=function(e){return e=c.to_str_native(e),this.replace(e+this.__native__)},t.prototype.replace=function(e){if(typeof e!="string"){e=R(e);if(e.to_str==null)throw R.TypeError["new"]();e=e.to_str().valueOf()}return this.__native__=e,this.length=e.length,this},t.prototype.reverse=function(){return new v(_t.reverse(this.__native__))},t.prototype.reverse_bang=function(){return this.replace(_t.reverse(this.__native__))},t.prototype.rindex=function(e,t){var n,r;if(t===null)throw R.TypeError["new"]("TypeError");e=R(e);if(e.to_str!=null)e=e.to_str();else{if(e.is_regexp==null)throw R.TypeError["new"]("TypeError");e=e}return t=(r=R(t))!=null?r.to_int().valueOf():void 0,e=e.valueOf(),n=_t.rindex(this.__native__,e,t),n===null?null:new R.Fixnum(n)},t.prototype.rjust=function(e,t){return t==null&&(t=" "),new v(_t.rjust(this.__native__,e,t))},t.prototype.rpartition=function(e){return new l(_t.rpartition(this.__native__,e))},t.prototype.rstrip=function(){return this.dup().tap(function(e){return e.rstrip_bang()})},t.prototype.rstrip_bang=function(){return this.__native__.match(/[\s\n\t]+$/)?this.replace(_t.rstrip(this.__native__)):null},t.prototype.scan=function(e,t){var n;return t==null&&(t=null),n=_t.scan(this.__native__,e,t),t!==null?this:new l(n)},t.prototype.size=function(){return this.$Integer(this.to_native().length)},t.prototype.slice=function(e,t){var n;if(e===null)throw R.TypeError["new"]();e=R(e);if(t!==void 0){if(e.is_regexp!=null)throw R.NotImplementedError["new"]();return e=c.to_int_native(e),t=c.to_int_native(t),n=_t.slice(this.__native__,e,t),n!=null?new v(n):null}if(e.is_regexp!=null)throw R.NotImplementedError["new"]();return e.is_string!=null?e=c.to_str_native(e):e.is_range==null&&(e=c.to_int_native(e)),n=_t.slice(this.__native__,e),n!=null?new v(n):null},t.prototype.split=function(e,t){return e==null&&(e=" "),R.Regexp.isRegexp(e)||(e=c.to_str_native(e)),new l(_t.split(this.__native__,e,t))},t.prototype.squeeze_bang=function(){throw new R.NotImplementedError},t.prototype.squeeze=function(){var e,t,n,r,i;e=[this.__native__];for(n=r=0,i=arguments.length;r<i;n=++r)t=arguments[n],e.push(lt(t));return new v(_t.squeeze.apply(_t,e))},t.prototype.start_with=function(){return Q(_t.start_with,this.__native__,arguments)},t.prototype.strip=function(){return this.dup().tap(function(e){return e.strip_bang()})},t.prototype.strip_bang=function(){var e;return e=_t.strip(this.__native__),e===this.__native__?null:this.replace(e)},t.prototype.sub=function(e,t){return this.dup().tap(function(n){return n.sub_bang(e,t)})},t.prototype.sub_bang=function(e,t){if(e===null)throw R.TypeError["new"]();return t=c.to_str_native(t),this.replace(_t.sub(this.__native__,e,t))},t.prototype.succ=function(){return new v(_t.succ(this.__native__))},t.prototype.succ_bang=function(){var e;return e=_t.succ(this.__native__),this.replace(e)},t.prototype.next=t.prototype.succ,t.prototype.next_bang=t.prototype.succ_bang,t.prototype.swapcase=function(){return this.dup().tap(function(e){return e.swapcase_bang()})},t.prototype.swapcase_bang=function(){return this.__native__.match(/[a-zA-Z]/)?this.replace(_t.swapcase(this.__native__)):null},t.prototype.valid_float=function(){var e;return e=this.to_native().match(/^([\+\-]?\d[_\d]*)(\.\d*)?([eE][\+\-]?[\d_]+)?$/),(e!=null?e[0]:void 0)!=null},t.prototype.to_f=function(){return this.$Float(_t.to_f(this.__native__))},t.prototype.to_i=function(e){return new R.Fixnum(_t.to_i(this.__native__,e))},t.prototype.to_s=function(){return this},t.prototype.to_str=t.prototype.to_s,t.prototype.tr=function(e,t){return this.dup().tap(function(n){return n.tr_bang(e,t)})},t.prototype.tr_bang=function(e,t){throw R.NotImplementedError["new"]()},t.prototype.tr_s=function(){throw R.NotImplementedError["new"]()},t.prototype.upcase=function(){return new v(_t.upcase(this.__native__))},t.prototype.upcase_bang=function(){return this.__native__.match(/[a-z]/)?this.replace(_t.upcase(this.__native__)):null},t.prototype.upto=function(e,t,n){return n===void 0&&(t!=null?t.call:void 0)!=null&&(n=t,t=!1),!n||n.call==null?R.Enumerator["new"](this,"upto",e,t):(_t.upto(this.__native__,e,t,n),this)},t.__add_default_aliases__(t.prototype),t.prototype.concat=t.prototype["<<"],t}(RubyJS.Object),v=RubyJS.String,RubyJS.Regexp=function(e){function t(e){this.__native__=e}return Ht(t,e),t.prototype.IGNORECASE=1,t.prototype.EXTENDED=2,t.prototype.MULTILINE=4,t["new"]=function(e){return typeof e=="string"?e=this.__compile__(e):R.Regexp.isRegexp(e)||(e.is_regexp!=null?e=e.to_native():e=this.__compile__(c.to_str_native(e))),new R.Regexp(e)},t.compile=t["new"],t.try_convert=function(e){return e===null?null:this.isRegexp(e)?new R.Regexp(e):e.to_regexp!=null?e.to_regexp():null},t.isRegexp=function(e){return(e!=null?e.is_regexp:void 0)!=null||W.call(e)==="[object RegExp]"},t.prototype.is_regexp=function(){return!0},t.prototype.to_native=function(){return this.__native__},t.prototype.inspect=function(){var e;return e=this.source().to_native(),R("/"+e+"/"+this.__flags__())},t.prototype.equals=function(e){return e=R(e),e.to_native().source===this.to_native().source&&e.casefold()===this.casefold()},t.prototype["==="]=function(e){return this.match(e)!==null},t.prototype["=~"]=function(e,t){var n;return n=this.match(e,t),n!=null?n.begin(0):void 0},t.prototype.casefold=function(){return this.to_native().ignoreCase},t.prototype.encoding=function(){throw R.NotSupportedError["new"]()},t.prototype.eql=function(){return this.equals.apply(this,arguments)},t.prototype.fixed_encoding=function(){throw R.NotSupportedError["new"]()},t.prototype.hash=function(){throw R.NotSupportedError["new"]()},t.prototype.match=function(e,t){var n,r,i,s;return n=nt(F.call(arguments)),e===null?R["$~"]=null:(e=c.to_str_native(e),i={string:e,regexp:this},t&&(i.offset=t,e=e.slice(t)),(r=e.match(this.to_native()))?R["$~"]=new R.MatchData(r,i):R["$~"]=null),s=R["$~"],n?s?n(s):new R.Array([]):s},t.prototype.quote=function(e){return R.Regexp.quote(e)},t.prototype.source=function(){return R(this.to_native().source)},t.prototype.to_s=function(){return R("("+this.source()+")")},t.prototype.valueOf=function(){return this.__native__},t.last_match=function(e){return e&&R["$~"]?R["$~"][e]:R["$~"]},t.quote=function(e){return this.escape(e)},t.escape=function(e){return e+="",e.replace(/([.?*+^$[\](){}|-])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\s]/g,"\\ ")},t.union=function(){var e,t,n,r;return t=1<=arguments.length?Bt.call(arguments,0):[],t.length===0?R(/(?!)/):(n=R(t[0]),n.is_array!=null&&t.length===1&&(t=n),r=function(){var n,r,i;i=[];for(n=0,r=t.length;n<r;n++)e=t[n],e=R(e),e.is_regexp!=null?i.push(e.to_s()):i.push(c.to_str(e));return i}(),new R.Regexp(new j(r.join("|"))))},t.__compile__=function(e){try{return new j(e)}catch(t){throw T=t,R.RegexpError["new"]()}},t.prototype.__flags__=function(){return this.casefold()?"i":""},t.prototype.names=function(){throw R.NotSupportedError["new"]()},t.prototype.named_captures=function(){throw R.NotSupportedError["new"]()},t.prototype.options=function(){throw R.NotSupportedError["new"]()},t.__add_default_aliases__(t.prototype),t.prototype.fixedEncoding=t.prototype.fixed_encoding,t}(RubyJS.Object),RubyJS.Numeric=function(e){function t(){return At=t.__super__.constructor.apply(this,arguments),At}return Ht(t,e),t.isNumeric=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:e===null?!1:e.valueOf!=null&&typeof e.valueOf()=="number"},t.try_convert=function(e){return this.isNumeric(e)?this["new"](e):null},t["new"]=function(e){return e%1===0?new R.Fixnum(e):new R.Float(e)},t.typecast=function(e){return e%1===0?new R.Fixnum(e):new R.Float(e)},t.prototype.is_numeric=function(){return!0},t.prototype.cmp=function(e){return this===e?0:null},t.prototype.abs=function(){return this.lt(0)?this.uminus():this},t.prototype.abs2=function(){return(typeof this.nan=="function"?this.nan():void 0)?this:this.abs()["**"](2)},t.prototype.ceil=function(){return this.to_f().ceil()},t.prototype.coerce=function(e){if(e==null||e===!1)throw RubyJS.TypeError["new"]();e=R(e);if(e.is_string!=null)return this.$Array([this.$Float(e),this.to_f()]);if(e.constructor.prototype===this.constructor.prototype)return this.$Array([e,this]);if(e.is_float!=null)return this.$Array([e,this.to_f()]);if(e.is_fixnum!=null)return this.$Array([e,this]);if(e.is_numeric!=null)return this.$Array([e.to_f(),this.to_f()]);throw RubyJS.TypeError["new"]()},t.prototype.div=function(e){e=this.box(e);if(e.to_int==null)throw RubyJS.TypeError["new"]();if(e.zero())throw new Error("ZeroDivisionError");return this.divide(e).floor()},t.prototype.divmod=function(e){var t,n;return n=this.div(e).floor(),t=this.minus(n.multiply(e)),new l([n.valueOf(),t.valueOf()])},t.prototype.eql=function(e){return e=this.box(e),e?this.__proto__!==e.__proto__?!1:this.equals(e)?!0:!1:!1},t.prototype.inspect=function(){return new R.String(""+this.to_native())},t.prototype.fdiv=function(e){return e=c.to_num_native(e),this.to_f()["/"](e)},t.prototype.floor=function(){return this.to_f().floor()},t.prototype.magnitude=function(){return this.abs()},t.prototype.modulo=function(e){return e=this.box(e),this.minus(e["*"](this.div(e)))},t.prototype.nonzero=function(){return this.zero()?null:this},t.prototype.quo=function(e){var t;e=this.box(e);if(e.zero())throw new Error("ZeroDivisionError");return t=this.coerce(e),this["/"](t.first())},t.prototype.rect=function(){if(arguments.length>0)throw R.ArgumentError["new"]();return new R.Array([this,new R.Fixnum(0)])},t.prototype.rectangular=t.prototype.rect,t.prototype.remainder=function(e){var t;return e=this.box(e),t=this["%"](e),!t.equals(0)&&(this.lt(0)&&e.gt(0)||this.gt(0)&&e.lt(0))?t.minus(e):t},t.prototype.round=function(e){return this.to_f().round(e)},t.prototype.step=function(e,t,n){return t==null&&(t=1),(n!=null?n.call:void 0)==null&&(t!=null?t.call:void 0)==null?this.to_enum("step",e,t):(Tt.step(this.__native__,e,t,n),this)},t.prototype.to_int=function(){return this.to_i()},t.prototype.truncate=function(){return this.to_f().truncate()},t.prototype.uminus=function(){return this.multiply(-1)},t.prototype.zero=function(){return this.equals(0)},t}(RubyJS.Object),RubyJS.Integer=function(e){function t(){return Ot=t.__super__.constructor.apply(this,arguments),Ot}return Ht(t,e),t["new"]=function(e){return new R.Integer(e)},t.isInteger=function(e){return this.isNumeric(e)&&e%1===0},t.prototype.is_integer=function(){return!0},t.prototype.unbox=function(){return this.to_native()},t.prototype.chr=function(){return new R.String(String.fromCharCode(this.to_native()))},t.prototype.denominator=function(){return new R.Fixnum(1)},t.prototype.downto=function(e,t){var n;try{e=c.to_num_native(e)}catch(r){throw n=r,R.ArgumentError["new"]()}return(t!=null?t.call:void 0)==null?R.Enumerator["new"](this,"downto",e):(Tt.downto(this.__native__,e,t),this)},t.prototype.even=function(){return this.to_native()%2===0},t.prototype.gcd=function(e){var t;return e=R(e),Z(arguments,1),this.__ensure_integer__(e),t=Tt.gcd(this.__native__,e.to_native()),new R.Fixnum(t)},t.prototype.gcdlcm=function(e){return e=this.box(e),Z(arguments,1),this.__ensure_integer__(e),new R.Array([Tt.gcd(this.__native__,e),Tt.lcm(this.__native__,e)])},t.prototype.lcm=function(e){return Z(arguments,1),this.__ensure_integer__(R(e)),new p(Tt.lcm(this.__native__,e))},t.prototype.numerator=function(){return new p(Tt.numerator(this.__native__))},t.prototype.odd=function(){return!this.even()},t.prototype.ord=function(){return this},t.prototype.next=function(){return this.plus(1)},t.prototype.pred=function(){return this.minus(1)},t.prototype.round=function(e){return e===void 0?this:(e=c.to_int_native(e),e>0?this.to_f():e===0?this:new R.Fixnum(Tt.round(this.__native__,e)))},t.prototype.succ=t.prototype.next,t.prototype.times=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("times"):new R.Fixnum(Tt.times(this.__native__,e))},t.prototype.to_i=function(){return this},t.prototype.upto=function(e,t){var n;try{e=c.to_num_native(e)}catch(r){throw n=r,R.ArgumentError["new"]()}return(t!=null?t.call:void 0)==null?R.Enumerator["new"](this,"upto",e):Tt.upto(this.__native__,e,t)},t.prototype.toString=function(){return""+this.to_native()},t.prototype.__ensure_integer__=function(e){if((e!=null?e.is_integer:void 0)==null)throw RubyJS.TypeError["new"]()},t.prototype.to_int=t.prototype.to_i,t.prototype.truncate=t.prototype.to_i,t}(RubyJS.Numeric),R.Fixnum=function(e){function t(e){this.__native__=e}return Ht(t,e),t.include(R.Comparable),t["new"]=function(e){return new R.Fixnum(e)},t.try_convert=function(e){e=R(e);if(e.to_int==null)throw R.TypeError["new"]();return e},t.__cache_fixnums__=function(e,t){var n,r,i;e==null&&(e=-1),t==null&&(t=256),i=[];for(n=r=e;e<=t?r<=t:r>=t;n=e<=t?++r:--r)i.push(this.__memoized_fixnums__[n]=new R.Fixnum(n));return i},t.prototype.is_fixnum=function(){return!0},t.prototype.valueOf=function(){return this.__native__},t.prototype.to_native=function(){return this.__native__},t.prototype.valueOf=t.prototype.to_native,t.prototype.unbox=t.prototype.to_native,t.prototype.dup=function(){return t["new"](this.to_native())},t.prototype.equals=function(e){return R(e).is_fixnum==null?R(e).equals(this):this.cmp(e)===0},t.prototype["==="]=t.prototype.equals,t.prototype.cmp=function(e){if(typeof e!="number"){e=R(e);if(e.is_numeric==null)return null;if(e.to_int==null)throw R.TypeError["new"]();e=e.to_native()}return this.to_native()<e?-1:this.to_native()>e?1:0},t.prototype.plus=function(e){return R.Numeric.typecast(this.to_native()+c.to_num_native(e))},t.prototype.minus=function(e){return R.Numeric.typecast(this.to_native()-c.to_num_native(e))},t.prototype["/"
]=function(e){var n;e=t.try_convert(e);if(e.is_float!=null&&e.zero())return this.to_native()>0?R("Infinity"):R("-Infinity");if(+e===0)throw R.ZeroDivisionError["new"]();return n=R.Numeric.typecast(this.to_native()/e.to_native()),e.is_float!=null?n:n.floor()},t.prototype["*"]=function(e){return R.Numeric.typecast(this.to_native()*c.to_num_native(e))},t.prototype["**"]=function(e){var t;return e=this.box(e),t=this.box(Math.pow(this.to_native(),e.to_native())),e.is_float!=null?t.to_f():t.to_i()},t.prototype["%"]=function(e){var n,r,i,s;i=this.box(e).is_float!=null,r=t.try_convert(e);if(r.zero())throw R.ZeroDivisionError["new"]();return r=r.to_int(),n=this["/"](r),s=this.minus(n.multiply(r)),i?s.to_f():s.to_i()},t.prototype.fdiv=function(e){e=R(e);if(e.is_numeric==null)throw R.TypeError["new"]();return Z(arguments,1),this.to_f().divide(e.to_f())},t.prototype.object_id=function(){return this.__native__*2+1},t.prototype.to_f=function(){return this.$Float(this.to_native())},t.prototype.to_s=function(e){e==null&&(e=10),e=this.box(e);if(e.lt(2)||e.gt(36))throw R.ArgumentError["new"]();return this.box(""+this.to_native().toString(e.to_native()))},t.__add_default_aliases__(t.prototype),t}(RubyJS.Integer),p=R.Fixnum,RubyJS.Float=function(e){function t(e){this.__native__=e}return Ht(t,e),t.include(R.Comparable),t.INFINITY=1/0,t.NAN=0/0,t.DIG=15,t.EPSILON=2.220446049250313e-16,t.MANT_DIG=53,t.MAX_10_EXP=308,t.MIN_10_EXP=-307,t.MAX_EXP=1024,t.MIN_EXP=-1021,t.MAX=1.7976931348623157e308,t.MANT_DIG=53,t.MIN=2.2250738585072014e-308,t.RADIX=2,t["new"]=function(e){return new R.Float(e)},t.prototype.is_float=function(){return!0},t.isFloat=function(e){return R.Numeric.isNumeric(e)&&!R.Integer.isInteger(e)},t.prototype.cmp=function(e){if(this.box(e).is_numeric==null)return null;e=c.to_num_native(e);if(this.to_native()===e)return 0;if(this.to_native()<e)return-1;if(this.to_native()>e)return 1},t.prototype.equals=function(e){return e=this.box(e),this.to_native()===e.to_native()},t.prototype.plus=function(e){return new t(this.to_native()+c.to_num_native(e))},t.prototype.minus=function(e){return new t(this.to_native()-c.to_num_native(e))},t.prototype["*"]=function(e){return new t(this.to_native()*c.to_num_native(e))},t.prototype["/"]=function(e){return new t(this.to_native()/c.to_num_native(e))},t.prototype["**"]=function(e){return new t(Math.pow(this.to_native(),c.to_num_native(e))+0)},t.prototype["%"]=function(e){var n,r,i;e=this.box(e);if(e.equals(0))throw new Error("ZeroDivisionError");if(!this.finite())return this.box(t.NAN).to_f();if(r=typeof e.infinite=="function"?e.infinite():void 0){if(r===-1)return e;if(r===1)return this}return n=this["/"](e).floor(),i=this.to_native()-n.to_native()*e.to_native(),new t(i)},t.prototype.arg=function(){return this.nan()?this:this.__native__<0?new R.Float(Math.PI):new R.Float(0)},t.prototype.ceil=function(){return new R.Fixnum(Math.ceil(this.to_native()))},t.prototype.inspect=function(){return this.to_s()},t.prototype.dup=function(){return t["new"](this.to_native())},t.prototype.eql=function(e){return e=this.box(e),e.is_float==null?!1:this.equals(e)},t.prototype.finite=function(){return!this.infinite()&&!this.nan()},t.prototype.infinite=function(){return this.to_native()===t.INFINITY?1:this.to_native()===-t.INFINITY?-1:null},t.prototype.nan=function(){return isNaN(this.to_native())},t.prototype.to_f=function(){return this.dup()},t.prototype.to_i=function(){return this.to_native()<0?this.ceil():this.floor()},t.prototype.floor=function(){return new R.Fixnum(Math.floor(this.__native__))},t.prototype.quo=function(e){return Z(arguments,1),e=this.box(e),this.divide(e)},t.prototype.round=function(e){var t,n;e==null&&(e=0),e=c.to_int_native(e);if(this.infinite())throw new TypeError("FloatDomainError");if(this.nan())throw new TypeError("RangeError");return e===0?new R.Fixnum(Math.round(this.to_native())):(t=Math.pow(10,e),n=Math.round(this.to_native()*t)/t,e>0?new R.Float(n):new R.Fixnum(n))},t.prototype.to_s=function(){var e,t;return t=""+this.to_native(),this.nan()?t="NaN":(e=this.infinite())?(e===-1&&(t="-Infinity"),e===1&&(t="Infinity")):t.indexOf(".")<0&&(t+=".0"),this.$String(t)},t.prototype.toString=function(){return this.to_native().toString()},t.prototype.valueOf=function(){return this.__native__},t.prototype.to_native=function(){return this.__native__},t.prototype.unbox=t.prototype.to_native,t.prototype.angle=t.prototype.arg,t.prototype.fdiv=t.prototype.quo,t.prototype.magnitude=t.prototype.abs,t.prototype.phase=t.prototype.arg,t.prototype.to_int=t.prototype.to_i,t.prototype.truncate=t.prototype.to_i,t.prototype["==="]=t.prototype.equals,t.__add_default_aliases__(t.prototype),t}(RubyJS.Numeric),RubyJS.Time=function(e){function t(e,t){this.__native__=e,t!=null?(this.__utc_offset__=t,this._tzdate=R.Time._offset_to_local(this.__native__,this.__utc_offset__)):(this._tzdate=this.__native__,this.__utc_offset__=R.Time.__local_timezone__)}return Ht(t,e),t.include(R.Comparable),t.LOCALE={DAYS:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],DAYS_SHORT:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],MONTHS:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],MONTHS_SHORT:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AM:"AM",PM:"PM",AM_LOW:"am",PM_LOW:"pm"},t.TIME_ZONES={UTC:0,UT:0,GMT:0,EST:-5,EDT:-4,CST:-6,CDT:-5,MST:-7,MDT:-6,PST:-8,PDT:-7},t.now=function(){return R.Time["new"]()},t["new"]=function(e,t,n,r,i,s,o){var u;if(arguments.length===0)return new R.Time(new Date);if(e===null)throw R.TypeError["new"]();t||(t=1),n||(n=1),r||(r=0),i||(i=0),s||(s=0);if(t>12||n>31||r>24||i>59||s>59||t<0||n<0||r<0||i<0||s<0)throw R.ArgumentError["new"]();return o!=null?(o=this._parse_utc_offset(o),u=new Date(e,t-1,n,r,i,s),u=this._local_to_offset(u,o)):(u=new Date(e,t-1,n,r,i,s),o=this.__local_timezone__),new R.Time(u,o)},t._local_to_offset=function(e,t){return e=e.valueOf()+R.Time.__local_timezone__*1e3,e-=t*1e3,new Date(e)},t._offset_to_local=function(e,t){return e=e.valueOf()-R.Time.__local_timezone__*1e3,e+=t*1e3,new Date(e)},t._parse_utc_offset=function(e){var t,n,r,i,s;if(e==null)return null;e=R(e),r=null;if(e.is_string!=null||e.to_str!=null){e=e.to_str().to_native();if(!e.match(/[\+|-]\d\d:\d\d/))throw R.ArgumentError["new"]();i=e[0]==="-"?-1:1,s=e.split(":"),t=s[0],n=s[1],n=parseInt(n),t=parseInt(t.slice(1)),r=i*(t*60+n)*60}else{if(e.is_fixnum==null&&e.to_int==null)throw R.TypeError["new"]();r=e.to_int().valueOf();if(Math.abs(r)>=86400)throw R.ArgumentError["new"]()}return Math.floor(r)},t.at=function(e,t){var n,r;if(e===null)throw R.TypeError["new"]();if(t!==void 0){if(t===null||R(t).is_string!=null)throw R.TypeError["new"]();t=c.to_num_native(t)}else t=0;e=R(e);if(e.is_time!=null)return r=e.to_i(),n=r*1e3+t/1e3,new R.Time(new Date(n),time.utc_offset());if(e.is_numeric!=null)return r=e.valueOf(),n=r*1e3+t/1e3,new R.Time(new Date(n),this.__local_timezone__);throw R.TypeError["new"]()},t.local=function(e,t,n,r,i,s){return R.Time["new"](e,t,n,r,i,s,this.__local_timezone__)},t.utc=function(e,t,n,r,i,s){var o;return o=new Date(Date.UTC(e,(t||1)-1,n||1,r||0,i||0,s||0)),new R.Time(o,0)},t.gm=t.utc,t.now=function(){return R.Time["new"]()},t._local_timezone=function(){return this.__local_timezone__},t.__local_timezone__=(new Date).getTimezoneOffset()*-60,t.__reset_local_timezone__=function(){return this.__local_timezone__=(new Date).getTimezoneOffset()*-60},t.prototype.is_time=function(){return!0},t.prototype.cmp=function(e){var t;return t=this.valueOf(),e=e.valueOf(),t<e?-1:t>e?1:0},t.prototype.equals=function(e){return e=R(e),e.is_time==null?!1:this.cmp(e)===0},t.prototype.minus=function(e){var t;if(e==null)throw R.TypeError["new"]();e=R(e);if(e.is_numeric!=null)return t=this.valueOf()-e.valueOf()*1e3,new R.Time(new Date(t),this.__utc_offset__);if(e.is_time!=null)return new R.Float((this.valueOf()-e.valueOf())/1e3);throw R.TypeError["new"]()},t.prototype.plus=function(e){var t,n;if(e==null)throw R.TypeError["new"]();n=R(e);if(typeof e!="number"||n.is_numeric==null){if(n.is_time!=null||e.to_f==null)throw R.TypeError["new"]();e=e.to_f()}return t=this.valueOf()+e.valueOf()*1e3,new R.Time(new Date(t),this.__utc_offset__)},t.prototype.asctime=function(){return this.strftime("%a %b %e %H:%M:%S %Y")},t.prototype.ctime=t.prototype.asctime,t.prototype.dup=function(){return new R.Time(new Date(this.__native__),this.__utc_offset__)},t.prototype.year=function(){return new R.Fixnum(Dt.year(this._tzdate))},t.prototype.month=function(){return new R.Fixnum(Dt.month(this._tzdate))},t.prototype.mon=t.prototype.month,t.prototype.monday=function(){return Dt.monday(this._tzdate)},t.prototype.tuesday=function(){return Dt.tuesday(this._tzdate)},t.prototype.wednesday=function(){return Dt.wednesday(this._tzdate)},t.prototype.thursday=function(){return Dt.thursday(this._tzdate)},t.prototype.friday=function(){return Dt.friday(this._tzdate)},t.prototype.saturday=function(){return Dt.saturday(this._tzdate)},t.prototype.sunday=function(){return Dt.sunday(this._tzdate)},t.prototype.day=function(){return new R.Fixnum(Dt.day(this._tzdate))},t.prototype.mday=t.prototype.day,t.prototype.getgm=function(){return new R.Time(this.__native__,0)},t.prototype.getutc=t.prototype.getgm,t.prototype.gmt=function(){return this.__utc_offset__===0},t.prototype.is_utc=t.prototype.gmt,t.prototype.gmt_offset=function(){return new R.Fixnum(this.__utc_offset__)},t.prototype.gmtoff=t.prototype.gmt_offset,t.prototype.utc_offset=t.prototype.gmt_offset,t.prototype.gmtime=function(){return this._tzdate=new Date(this.__native__-this.__utc_offset__*1e3),this.__utc_offset__=0,this},t.prototype.hour=function(){return new R.Fixnum(Dt.hour(this._tzdate))},t.prototype.hour12=function(){return new R.Fixnum(Dt.hour12(this._tzdate))},t.prototype.inspect=function(){return this.gmt()?this.strftime("%Y-%m-%d %H:%M:%S UTC"):this.strftime("%Y-%m-%d %H:%M:%S %z")},t.prototype.min=function(){return new R.Fixnum(Dt.min(this._tzdate))},t.prototype.sec=function(){return new R.Fixnum(Dt.sec(this._tzdate))},t.prototype.strftime=function(e){var t,n,r,i;return this.__utc_offset__===(new Date).getTimezoneOffset()*-60?new v(Dt.strftime(this.__native__,e)):(n=R.Time.LOCALE,t=this._rjust,i=this,r=e.replace(/%(.)/g,function(e,r){var s,o;switch(r){case"a":return n.DAYS_SHORT[i.wday()];case"A":return n.DAYS[i.wday()];case"b":return n.MONTHS_SHORT[i.month()];case"B":return n.MONTHS[i.month()];case"C":return i.year()%100;case"d":return t(i.day());case"D":return i.strftime("%m/%d/%y");case"e":return t(i.day()," ");case"F":return i.strftime("%Y-%m-%d");case"h":return n.MONTHS_SHORT[i.month()];case"H":return t(i.hour());case"I":return t(i.hour12());case"j":return o=(new Date(i.year(),0,1)).getTime(),Math.ceil((i._tzdate.getTime()-o)/864e5);case"k":return i.hour().to_s().rjust(2," ");case"l":return t(i.hour12()," ");case"m":return t(i.month());case"M":return t(i.min());case"n":return"\n";case"N":throw R.NotImplementedError["new"]();case"p":return i.hour()<12?n.AM:n.PM;case"P":return i.hour()<12?n.AM_LOW:n.PM_LOW;case"r":return i.strftime("%I:%M:%S %p");case"R":return i.strftime("%H:%M");case"S":return t(i.sec());case"t":return"	";case"T":return i.strftime("%H:%M:%S");case"u":return s=i.wday().to_native(),s===0?7:s;case"v":return i.strftime("%e-%b-%Y");case"w":return i.wday();case"y":return i.year().to_s().slice(-2,2);case"Y":return i.year();case"x":return i.strftime("%m/%d/%y");case"X":return i.strftime("%H:%M:%S");case"z":return i._offset_str();case"Z":return i.zone();default:return r}}),new R.String(r))},t.prototype.succ=function(){return R.Time.at(this.to_i().succ())},t.prototype.to_i=function(){return R(this.__native__.getTime()/1e3).to_i()},t.prototype.to_f=function(){return new R.Float(this.to_i()+this.valueOf()%1e3/1e3)},t.prototype.to_s=t.prototype.inspect,t.prototype.__utc_delta__=function(){return this.gmt_offset()+R.Time.__local_timezone__},t.prototype.tv_sec=t.prototype.to_i,t.prototype.tv_usec=function(){return new R.Fixnum(this._tzdate.valueOf()%1e3*1e3)},t.prototype.usec=t.prototype.tv_usec,t.prototype.wday=function(){return new R.Fixnum(Dt.wday(this._tzdate))},t.prototype.yday=function(){var e,t;return t=new Date(this.year(),0,0),e=this.__native__.getTime()+this.gmt_offset()*1e3-t.getTime(),R(Math.floor(e/864e5))},t.prototype.valueOf=function(){return this.__native__.valueOf()},t.prototype.zone=function(){if(this.gmt())return new R.String("UTC");throw R.NotImplementedError["new"]("Time#zone only supports UTC/GMT")},t.prototype._rjust=function(e,t){return t==null&&(t="0"),(new R.String(e+"")).rjust(2,t)},t.prototype._offset_str=function(){var e,t,n;return t=this.gmt_offset()/60,t===0?"+0000":(n=t>0?"+":"-",t=Math.abs(t),e=this._rjust(Math.ceil(t/60)),t=this._rjust(t%60),n+e+t)},t.__add_default_aliases__(t.prototype),t.prototype.eql=t.prototype.equals,t}(RubyJS.Object),RubyJS.pollute_global_with_shortcuts(),RubyJS.pollute_global_with_kernel(),$.puts=_puts}).call(this);